'use strict';mix_d("P13NSCCards__p13n-desktop-carousel:p13n-desktop-carousel__THysxKWh","exports tslib @c/aui-carousel @c/dom @c/remote-operations @c/scoped-dom @p/A @p/a-carousel-framework @c/aui-modal @c/browser-operations @c/logger @c/aui-utils @c/aui-untrusted-ajax".split(" "),function(t,h,x,y,z,A,B,C,D,E,F,P,Q){function d(a){return a&&"object"===typeof a&&"default"in a?a:{"default":a}}var G=d(x),H=d(z),k=d(A),f=d(B),I=d(C),J=d(D),u=d(E),n=d(F),L=function(a){return h.__awaiter(void 0,void 0,void 0,
function(){var c,b,p,e,d,g;return h.__generator(this,function(m){c=k["default"].cardRoot.querySelector(".modal-root");if(!c)return[2];b={a11yOpenMessage:"A modal for internal users to report problems with recommendations",hideHeader:!1};p=J["default"].create("report-flag-modal",".modal-root",b);e=u["default"].setup();d=k["default"].cardRoot.querySelector(".report-flag");e.define("show","click",function(){p.show()});e.attach("show",d);g=k["default"].cardRoot.querySelector(".trigger-hide");e.define("hide",
"click",function(){p.hide()});e.attach("hide",g);K(a);return[2]})})},K=function(a){var c=k["default"].cardRoot.querySelector(".report-flag"),b=u["default"].setup();b.define("showFlag","mouseover",function(){c.classList.remove("report-flag-hide")});b.define("hideFlag","mouseout",function(){c.classList.add("report-flag-hide")});b.attach("showFlag",a);b.attach("hideFlag",a)},v=/(?=[ \-\/])|(?=[\u3105-\u312F])|(?=[\u31A0-\u31BA])|(?=[\u4E00-\u9FD5])|(?=[\u3400-\u4DB5])|(?=[\uF900-\uFAFF])|(?=[\u3040-\u309F])|(?=[\u30A0-\u30FF])|(?=[\u3190-\u319F])/,
w=/[^\/\-\[\]():\s]/,M=function(a){var c=f["default"].$("<div>")[0];c.classList.add("p13n-sc-offscreen-truncate");var b=parseInt(a.getAttribute("data-rows")||"2",10),d=function(){var c=a.innerHTML;a.innerHTML="&hellip;";var b=a.clientHeight;a.innerHTML=c;return b}();if(b){if(d){var e=function(a){c.innerHTML=a;return Math.round(c.clientHeight/d)<=b},h=function(g,b){g=g.split(b);var d=Math.floor(a.clientWidth/12),e=function(b){c.classList.add("p13n-sc-offscreen-truncate");c.style.overflow="hidden";
c.textContent=b;a.appendChild(c);b=a.clientWidth>=a.scrollWidth;a.removeChild(c);return b},h=function(a){var c=a.length-d;a.trim().length>d&&!e(a)&&Array.prototype.slice.call(a).map(function(a,b){return b>d&&b<=c&&w.test(a)?"&shy;"+a:a});return a};return g.map(function(a){return h(a)}).join("")};return{truncate:function(){var b=a.innerHTML.trim(),d=a.textContent||"";b=h(b,v);a.appendChild(c);if(e(b))a.removeChild(c),a.innerHTML=b;else{var l=b.split(v);for(var r=1,k=l.length,f,p,q=0;r!==k;)if(f=Math.floor((k+
r)/2),p=l.slice(0,f).join("")+"&hellip;",e(p)){if(1>=k-f){for(q=f;0<q&&!w.test(l[q-1]);)q--;break}r=f}else k=f;l=0===q?void 0:l.slice(0,q).join("")+"&hellip;";l?(a.innerHTML=l,a.setAttribute("title",d)):(n["default"].log("Unable to successfully truncate line "+b,"ERROR"),a.removeChild(c))}}}}n["default"].log("Truncation element does not have a line height or it is zero","ERROR")}else n["default"].log("Truncation element missing necessary line number data","ERROR")},N=function(a){a=a.getElementsByClassName("p13n-sc-truncate");
Array.prototype.slice.call(a).map(function(a){var b=M(a);b&&(b.truncate(),a.classList.add("p13n-sc-truncated"),a.classList.remove("p13n-sc-truncate"),a.className=a.className.replace(/p13n-sc-line-clamp-\d/g,""))})},O={initCarousel:function(a){return h.__awaiter(void 0,void 0,void 0,function(){var c,b,d,e,n,g,m;return h.__generator(this,function(l){switch(l.label){case 0:c=k["default"].cardRoot.classList.contains("p13n-sc-shoveler")?k["default"].cardRoot:k["default"].cardRoot.getElementsByClassName("p13n-sc-shoveler")[0];
b=H["default"].setup(["getCarouselItems"]);if(!c)return[2];d=I["default"].getCarousel(y.unscope(c));e=G["default"].getCarousel(c);n=c.dataset||{};g=d.getAttr("name");m=function(){f["default"].loadDynamicImage("[data-name]='"+g+"' .p13n-sc-dynamic-image");N(c);null===a||void 0===a?void 0:a(c)};return[4,e.initialized];case 1:return l.sent(),L(c),f["default"].on("a:carousel:"+g+":change:pageSize",m),f["default"].on("a:carousel:"+g+":change:loading",m),f["default"].on("a:carousel:"+g+":change:animating",
m),f["default"].on("a:carousel:"+g+":change:fetchedItems",m),m(),e.attachRemoteOperation(function(a){var c=a.indexes;a=a.ids;return b.getCarouselItems(h.__assign(h.__assign({},n),{ids:a,indexes:c,offset:String(c[0]||0)}))}),[2]}})})}};t._operationNames=["getCarouselItems"];t.card=function(){return h.__awaiter(void 0,void 0,void 0,function(){return h.__generator(this,function(a){switch(a.label){case 0:return[4,O.initCarousel()];case 1:return a.sent(),[2]}})})}});
