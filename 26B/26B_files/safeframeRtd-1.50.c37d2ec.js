!function a(i,s,d){function l(t,e){if(!s[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=s[t]={exports:{}};i[t][0].call(o.exports,function(e){return l(i[t][1][e]||e)},o,o.exports,a,i,s,d)}return s[t].exports}for(var c="function"==typeof require&&require,e=0;e<d.length;e++)l(d[e]);return l}({1:[function(e,u,t){
/*
    @license
    Underscore.js 1.8.3
    http://underscorejs.org
    (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
    Underscore may be freely distributed under the MIT license.
*/
var r=function(){return window.P&&window.P.AUI_BUILD_DATE};u.exports.throttle=function(n,r,o){var a,i,s,d=null,l=0;o||(o={});var c=function(){l=!1===o.leading?0:u.exports.now(),d=null,s=n.apply(a,i),d||(a=i=null)};return function(){var e=u.exports.now();l||!1!==o.leading||(l=e);var t=r-(e-l);return a=this,i=arguments,t<=0||r<t?(d&&(clearTimeout(d),d=null),l=e,s=n.apply(a,i),d||(a=i=null)):d||!1===o.trailing||(d=setTimeout(c,t)),s}},u.exports.now=function(){return Date.now?Date.now():(new Date).getTime()},u.exports.addListener=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):window.attachEvent&&e.attachEvent("on"+t,n)},u.exports.removeListener=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},u.exports.addWindowListener=function(e,t){u.exports.addListener(window,e,t)},u.exports.removeWindowListener=function(e,t){window.removeEventListener?window.removeEventListener(e,t,!1):window.detachEvent&&window.detachEvent("on"+e,t)},u.exports.ensureMessageListener=function(e){u.exports.removeWindowListener("message",e),u.exports.addWindowListener("message",e)},u.exports.decodeBase64=function(e){var t,n,r,o,a,i,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)t=s.indexOf(e.charAt(l++))<<2|(o=s.indexOf(e.charAt(l++)))>>4,n=(15&o)<<4|(a=s.indexOf(e.charAt(l++)))>>2,r=(3&a)<<6|(i=s.indexOf(e.charAt(l++))),d+=String.fromCharCode(t),64!=a&&(d+=String.fromCharCode(n)),64!=i&&(d+=String.fromCharCode(r));return d=function(e){for(var t="",n=0,r=0,o=0,a=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):191<r&&r<224?(o=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&o),n+=2):(o=e.charCodeAt(n+1),a=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&o)<<6|63&a),n+=3);return t}(d)},u.exports.createScript=function(e,t,n,r,o){if(!document.getElementById(n)){var a=document.createElement("script");return a.async=!0,a.setAttribute("crossorigin","anonymous"),a.src=e,a.type=t,a.id=n,a.onerror=r,a.onload=o,a}},u.exports.isAUIAvailable=r,u.exports.safeFunctionWrapper=function(e,t,n){return r()&&"function"==typeof window.P.guardError?P.guardError("APE-SafeFrame",e):function(){try{e.apply(this,arguments)}catch(e){"function"==typeof t&&n&&t(n,e)}}},u.exports.getCookie=function(e){var t=e+"=";try{for(var n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}}catch(e){}return""},u.exports.disableCookieAccess=function(){try{Object&&Object.defineProperty&&"function"==typeof Object.defineProperty?Object.defineProperty(document,"cookie",{get:function(){return""},set:function(){}}):(document.__defineGetter__("cookie",function(){return""}),document.__defineSetter__("cookie",function(){}))}catch(e){}},u.exports.setObjectStyles=function(e,t){if(e&&t)for(var n in t)e.style[n]=t[n];return e},u.exports.ABP_STATUS={1:"Enabled",0:"NotEnabled","-1":"Unknown"},u.exports.hasHostname=function(e){var t="";return e&&(t=-1<e.indexOf("//")?e.split("/")[2]:e.split("/")[0]),0!=t.length}},{}],2:[function(e,l,t){function d(e,t,n){var r=0;return"visible"!==document.visibilityState?r:(r=0<e?n-e:0<t?Math.min(t,n):0,Math.min(r,t-e))}function i(){try{var e={};return e.t=window.screenY?window.screenY:window.screenTop,e.l=window.screenX?window.screenX:window.screenLeft,e.w=l.exports.windowWidth(),e.h=l.exports.windowHeight(),e.b=e.t+e.h,e.r=e.l+e.w,e}catch(e){return null}}function s(e,t){try{var n={},r=c(e,t),o=function(e){try{var t={},n=l.exports.windowWidth(),r=l.exports.windowHeight(),o=Math.max(0,d(e.t,e.b,r)),a=Math.max(0,d(e.l,e.r,n)),i=o*a,s=e.h*Math.min(e.w,l.exports.windowWidth());return t.xiv=Number(Math.min(1,a/e.w).toFixed(2)),t.yiv=Number(Math.min(1,o/e.h).toFixed(2)),t.iv=Number(Math.min(1,Math.max(0,i/s)).toFixed(2)),t}catch(e){return null}}(r);return n.t=r.t,n.l=r.l,n.r=r.r,n.b=r.b,n.w=r.w,n.h=r.h,n.z=r.z,n.xiv=o.xiv,n.yiv=o.yiv,n.iv=o.iv,n}catch(e){return null}}function c(e,t){try{var n={},r=t||e.getBoundingClientRect();return n.t=r.top,n.l=r.left,n.r=r.right,n.b=r.bottom,n.w=r.width||n.r-n.l,n.h=r.height||n.b-n.t,n.z=e?Number(window.getComputedStyle(e,null).zIndex):NaN,n}catch(e){return null}}function u(e,t){try{var n={},r=t||e.getBoundingClientRect();return n.t=r.top,n.l=r.left,n.r=l.exports.windowWidth()-r.right,n.b=l.exports.windowHeight()-r.bottom,n.xs=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth)>l.exports.windowWidth()?1:0,n.yx=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)>l.exports.windowHeight()?1:0,n}catch(e){return null}}l.exports.findVerticalPositionReached=function(){try{return window.scrollY+l.exports.windowHeight()}catch(e){return null}},l.exports.findDistanceFromViewport=function(e){try{return e.getBoundingClientRect().top-l.exports.windowHeight()}catch(e){return null}},l.exports.getViewableInfo=function(e){var t={};if(t.atf=function(e){if(!e)return"unknown";var t=function(e){try{var t=c(e,null),n=l.exports.windowHeight(),r=l.exports.windowWidth(),o=document.body.getBoundingClientRect(),a=Math.max(0,Math.min(o.left+r,t.r)-t.l),i=Math.max(0,Math.min(o.top+n,t.b)-t.t),s=a*i/(t.h*Math.min(t.w,r)),d=Number(Math.min(1,Math.max(0,s)).toFixed(2));return d}catch(e){return null}}(e);{if(null==t)return"unknown";if(.5<=t)return!0}return!1}(e),!e)return t;var n=i(),r=s(e),o=u(e);return n&&r&&o&&(t.geom={},t.geom.win=n,t.geom.self=r,t.geom.exp=o,t.payload={},t.payload.wh=n.h,t.payload.ww=n.w,t.payload.sx=window.scrollX,t.payload.sy=window.scrollY,t.payload.ah=r.h,t.payload.aw=r.w,t.payload.top=r.t,t.payload.left=r.l),t},l.exports.takeSnapshotOfSlotPosition=function(e){try{return{initialBoundingRect:e.getBoundingClientRect(),adHeight:e.offsetHeight,adWidth:e.offsetWidth,originalScrollX:window.scrollX,originalScrollY:window.scrollY}}catch(e){return null}},l.exports.getNoInventoryViewabilityData=function(e){var t={},n=function(e){try{var t=e.initialBoundingRect,n=t.top-(window.scrollY-e.originalScrollY),r=n+e.adHeight,o=t.left-(window.scrollX-e.originalScrollX),a=o+e.adWidth;return{top:n,bottom:r,left:o,right:a,width:e.adWidth,height:e.adHeight}}catch(e){return null}}(e),r=i(),o=s(null,n),a=u(null,n);return r&&o&&a?(t.geom={},t.geom.win=r,t.geom.self=o,t.geom.exp=a,t.payload={},t.payload.wh=r.h,t.payload.ww=r.w,t.payload.sx=window.scrollX,t.payload.sy=window.scrollY,t.payload.ah=o.h,t.payload.aw=o.w,t.payload.top=o.t,t.payload.left=o.l,t):null},l.exports.windowHeight=function(){return window.innerHeight||document.documentElement.clientHeight},l.exports.windowWidth=function(){return window.innerWidth||document.documentElement.clientWidth}},{}],3:[function(e,t,n){var R=e("../components/viewability"),f=e("../../components/util"),r=e("../metrics/csm"),o=e("../metrics/csa"),s=e("../metrics/counters").CUSTOM_MESSAGE_COUNTERS,a=r.sendCsmLatencyMetric,D=r.sendCsmCounter,i=o.markCsaLatencyMetric,d={ERROR:"ERROR",WARN:"WARN",FATAL:"FATAL"},c=l();function U(e,t){var n=t||new Error(e);D("",null,"safeFrameError",1),window.sfLogErrors&&(window.ueLogError?window.ueLogError(n,{logLevel:d.ERROR,attribution:"APE-safeframe",message:e+" "}):"undefined"!=typeof console&&console.error&&console.error(e,n))}function l(){var e=window.location.hostname.split(".").pop(),t="na";return/^(com|ca|mx|br)$/.test(e)?t="na":/^(uk|de|fr|it|es|in|ae|sa|nl)$/.test(e)?t="eu":/^(jp|au)$/.test(e)?t="fe":/^(cn)$/.test(e)&&(t="cn"),"https://images-"+t+".ssl-images-amazon.com"}function u(e){return e.replace(/^.{1,5}:\/\/|^\/\//,"")}function k(e,t,n){e.style.transform=t,e.style.transformOrigin=n,e.style.MozTransform=t,e.style.MozTransformOrigin=n,e.style.msTransform=t,e.style.msTransformOrigin=n,e.style.OTransform=t,e.style.OTransformOrigin=n,e.style.webkitTransform=t,e.style.webkitTransformOrigin=n}function W(e){return!e||F(e)||2<(t=e).length&&"px"===t.substring(t.length-2)?e:e+"px";var t}function F(e){return 1<e.length&&"%"===e.charAt(e.length-1)}function p(e,t,n,r){var o=!1,a=function(){r(n,e)&&(t(),o=!0)},i=f.safeFunctionWrapper(f.throttle(function(){a(),o&&(f.removeWindowListener("scroll",a),f.removeWindowListener("resize",a))},20));f.addWindowListener("scroll",i),f.addWindowListener("resize",i)}t.exports.util=f,t.exports.viewability=R,t.exports.messenger=new function(e,t,n){var l=this;this.adMap=e||{},this.supportedCommands=t||{},this.msgListeners=n||{};var i=function(e){var t=l.adMap,n=t[e].options;if(t==={}||n==={})return null;var r="ape_"+n.slot+"_iframe";return t[e].iframe&&(t[e].iframe=t[e].iframe&&t[e].iframe.innerHTML?t[e].iframe:document.getElementById(r)),t[e].iframe};this.sendMessageToAd=function(e,t,n){var r=i(e),o=r?r.contentWindow:null;if(o){var a={command:t,data:n};a=JSON.stringify(a),o.postMessage(a,"*")}},this.receiveMessage=function(t){var e=l.adMap,n=l.supportedCommands;if(e!=={}){var r,o,a,i,s;try{if(t.data&&t.data.message&&t.data.message.id&&-1<t.data.message.id.toLowerCase().indexOf("mash"))throw"Received Mash message";o=e[(r=JSON.parse(t.data)).arid]}catch(e){return}try{if(s=t,!(i=o)||!i.options||u(s.origin)!==u(c)||"object"!=typeof r.data||!n.hasOwnProperty(r.command))throw"Invalid Message: "+JSON.stringify(t.data);var d=n[r.command];d&&(o.options.debug&&"undefined"!=typeof console&&console.log(t),d(o,r.data))}catch(e){a="Problem with message: "+t.data,void 0!==r&&(a+=l.appendErrorDetails(r.arid)),U(a,e)}}},this.appendErrorDetails=function(e){var t=l.adMap;if(t==={})return"";var n="";if(void 0!==t[e]){var r=t[e].options;void 0!==r.aanResponse&&(n=" Ad Details: "+JSON.stringify(r.aanResponse))}return n},this.customMessage=function(e,t,n,r,o){var a=l.msgListeners;try{"undefined"!==n&&Array.isArray(n)&&(-1<n.indexOf(e)&&a[e]?(D(null,null,s.ALLOWLISTED+":"+e,1),a[e](t)):-1===n.indexOf(e)?(D(null,null,s.NOT_ALLOWLISTED,1),D(r,o,s.NOT_ALLOWLISTED,1)):U("Unrecognized custom message key: "+e))}catch(e){U("Custom Message Error",e)}},this.registerCustomMessageListener=function(e,t,n){var r=!1,o=l.msgListeners;try{!o[e]||"function"!=typeof o[e]||n?(o[e]=t,r=!0):U("Duplicate Key",new Error("Custom message listener already exists for key: "+e))}catch(e){U("Error registering custom message listener",e)}return r},this.sendCustomMessage=function(e,t){var n=l.adMap,r={key:e,data:t};for(var o in n)l.sendMessageToAd(o,"customMessage",r)},this.sendCustomMessageToAd=function(e,t,n){var r={key:t,data:n};l.sendMessageToAd(e,"customMessage",r)},this.takeSnapshotOfSlotPosition=function(e){var t=l.adMap,n=t&&t[e]&&t[e].options;if(t&&t!=={}&&n&&n!=={}){var r=i(e);l.adMap[e].options.slotSnapshot=R.takeSnapshotOfSlotPosition(r)}},this.onPageVisible=function(t){if("visible"===document.visibilityState)try{t()}catch(e){U("Error with callback",e)}else f.addListener(document,"visibilitychange",function e(){if("visible"===document.visibilityState){try{t()}catch(e){U("Error with callback",e)}f.removeListener(document,"visibilitychange",e)}})},this.updateViewability=function(e){var t=l.adMap,n=t&&t[e]&&t[e].options;if(t&&t!=={}&&n&&n!=={}){var r=i(e),o=t[e].options.viewabilityStandards,a=R.getViewableInfo(r);null!==a&&(a.viewabilityStandards=o,l.sendMessageToAd(e,"updateViewability",a))}},this.updateNoInventoryViewability=function(e){var t=l.adMap,n=t&&t[e]&&t[e].options,r=n&&n.slotSnapshot;if(t&&t!=={}&&n&&n!=={}&&r){var o=n.viewabilityStandards,a=R.getNoInventoryViewabilityData(r);null!==a&&(a.viewabilityStandards=o,l.sendMessageToAd(e,"updateViewability",a))}}},t.exports.logError=U,t.exports.SF_DOMAIN=c,t.exports.loadScript=function(e,t){var n=document.createElement("script");n.src=e,n.setAttribute("crossorigin","anonymous"),n.onload=n.onreadystatechange=function(){n.readyState&&"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onload=n.onreadystatechange=null,t&&"function"==typeof t&&t())},n.onerror=function(e){return U("Error loading script",e),!1},(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(n)},t.exports.fireViewableLatencyMetrics=function(e,t,n,r){window.apeViewableLatencyTrackers&&window.apeViewableLatencyTrackers[e]&&window.apeViewableLatencyTrackers[e].valid&&(window.apeViewableLatencyTrackers[e].loaded=!0,window.apeViewableLatencyTrackers[e].viewed&&(a("ld",t,n,"viewablelatency",r),i("viewablelatency:loaded",r),D(t,n,"htmlviewed:loaded",1)))},t.exports.hasClass=function(e,t){var n=new RegExp("(^|\\s)"+t+"(\\s|$)"),r=e.className;return r&&n.test(r)},t.exports.createIframeWithAttributes=function(e,t,n){var r=document.createElement("iframe");return r.name=JSON.stringify(e),r.id=t,r.src=n,r.height=W(e.size.height)||"250px",r.width=W(e.size.width)||"300px",r.className=e.iframeClass||"",r.setAttribute("frameborder","0"),r.setAttribute("marginheight","0"),r.setAttribute("marginwidth","0"),r.setAttribute("scrolling","no"),r.setAttribute("allowtransparency","true"),r.setAttribute("data-arid",e.arid),r.style.cssText=e.iframeExtraStyle||"",r.sandbox="allow-scripts allow-popups allow-popups-to-escape-sandbox allow-same-origin",/(Chrome|Safari|AppleWebKit|Amazon)/.test(navigator.userAgent)?r.sandbox+=" allow-top-navigation-by-user-activation":r.sandbox+=" allow-top-navigation",r},t.exports.logCounter=function(e,t){window.ue&&"function"==typeof window.ue.count&&window.ue.count(e,t)},t.exports.collapseSlot=function(e){var t=document.getElementById(e);void 0!==t&&t&&(t.style.display="none")},t.exports.setResizePlacementStyle=function(e,t,n){var r=document.getElementById(t[e].placementDivId),o=document.getElementById(t[e].wrapperDivId)||r,a=document.getElementById(t[e].iframeId),i=n.resizePlacementWidthThreshold,s=n.resizePlacementStyleAboveThreshold,d=n.resizePlacementStyleBelowThreshold;i=parseInt(i,10),o&&a&&i&&s&&d&&(o.offsetWidth<i?f.setObjectStyles(a,d):f.setObjectStyles(a,s))},t.exports.resizeSafeFrameAd=function(t,e,n,r,o,a,i,s,d,l){try{var c=document.getElementById(s[t].placementDivId),u=document.getElementById(s[t].wrapperDivId)||c,f=document.getElementById(s[t].iframeId);if(null===u||null===c||null===f)return;var p=F(n),m=F(e),w=F(f.height)||F(f.style.height),h=F(f.width)||F(f.style.width),g=!m&&!p,E=g&&!h&&!w,y=parseInt(e,10),S=m?f.offsetWidth:y,v=p?f.offsetHeight:parseInt(n,10),A=parseInt(r,10),C=parseInt(a,10),T="1027"===o||("1004"===o||"1002"===o||"0"===o)&&!d,x=C&&u.offsetWidth<C,_=E&&(T||x),b=function(e){g&&(v=Math.round(e*v/S)),S=Math.round(e)},I=0===u.offsetWidth?R.windowWidth():u.offsetWidth;A&&R.windowHeight()<R.windowWidth()?b(A):b(I),i&&i.adMap&&i.adMap[t]&&i.adMap[t].options&&i.adMap[t].options.slotSnapshot&&(i.adMap[t].options.slotSnapshot.adHeight=v,i.adMap[t].options.slotSnapshot.adWidth=S);var M=W(S),L=W(g?v:n),O=Math.floor(S/y*100)/100;_&&O?(f.style.height=n,f.style.width=e,k(f,"scale("+O+")",l?"top":"0 0")):(f.style.height=L,f.style.width=M,k(f,"",""));var N={width:M,height:L};u!==c&&(c.style.height=L,i.sendMessageToAd(t,"resizeCreativeWrapper",N)),"Detail_hero-quick-promo_Desktop"===s[t].slotId&&(D(s[t].slotId,i.adMap[t].options.placementId,"OffsetLeft",f.offsetLeft),D(s[t].slotId,i.adMap[t].options.placementId,"OffsetTop",f.offsetTop),D(s[t].slotId,i.adMap[t].options.placementId,"OffsetWidth",f.offsetWidth),D(s[t].slotId,i.adMap[t].options.placementId,"OffsetHeight",f.offsetHeight))}catch(e){U("Error resizing ad: "+s[t].slotId,e)}},t.exports.setTransformStyles=k,t.exports.delayLoad=function(e,t,n,r){var o="undefined"!=typeof P,a="undefined"!=typeof amznJQ,i="number"==typeof n&&0!==n?function(){setTimeout(t,n)}:t;if("windowOnLoad"===e)"complete"===document.readyState?i():f.addWindowListener("load",i);else if("spATFEvent"===e)o?P.when("search-page-utilities").execute(function(e){e.afterEvent("spATFEvent",i)}):a?amznJQ.available("search-js-general",function(){window.SPUtils.afterEvent("spATFEvent",i)}):i();else if("aboveTheFold"===e)o?P.when("af").execute(i):a?amznJQ.onCompletion("amznJQ.AboveTheFold",i):i();else if("criticalFeature"===e)o?P.when("cf").execute(i):a?amznJQ.onCompletion("amznJQ.criticalFeature",i):i();else if("r2OnLoad"===e)o?P.when("r2Loaded").execute(i):a?amznJQ.onReady("r2Loaded",i):i();else if(e.match("[^:]+:.+")){var s=e.split(":"),d=s[0].split("."),l=s[1],c=2<s.length?s[2]:l;o?P.when(c,"A").execute(i):a&&1<d.length?amznJQ[d[1]](l,i):i()}else if(e.match(/^\d{1,4}px$/g))p(parseInt(e,10),i,r,function(e,t){return e&&R.findDistanceFromViewport(e)<=t});else{var u=/^reached(\d{1,5}px)FromTop$/g.exec(e);u?p(parseInt(u[1],10),i,r,function(e,t){return R.findVerticalPositionReached()>=t}):i()}},t.exports.getMediaCentralOrigin=l,t.exports.sizeValidator=function(e,t){return e.height===t.height&&e.width===t.width},t.exports.checkAgainstAllowlist=function(e,t,n){if(!t||"object"!=typeof t)return!1;for(var r=0,o=t.length;r<o;r++)if(n(e,t[r]))return!0;return!1}},{"../../components/util":1,"../components/viewability":2,"../metrics/counters":4,"../metrics/csa":5,"../metrics/csm":6}],4:[function(e,t,n){t.exports.AD_LOAD_COUNTERS={START:"adload:start",CALLBACK:"adload:delayloadcallback",IFRAME_CREATED:"adload:iframecreated"},t.exports.CACHE_COUNTERS={SF_LIBRARY:"cache:sflibrary:",SF_HTML:"cache:sfhtml:"},t.exports.FEEDBACK_COUNTERS={REQUEST:"adfeedback:request",SUCCESS:"adfeedback:success",FALLBACK:"adfeedback:fallback"},t.exports.MESSENGER_COUNTERS={API:"messenger:"},t.exports.ABP_STATUS_COUNTERS={1:"abpstatus:enabled",0:"abpstatus:notenabled","-1":"abpstatus:unknown"},t.exports.SF_VERSION_COUNTERS={VERSION:"sfversion"},t.exports.RESOURCE_TIMING_DATA_COUNTERS={NEXUS_CLIENT_NOT_DEFINED:"ResourceTimingData.NexusClientNotDefined",LOGGING_FAILED:"ResourceTimingData.LoggingFailed",LOGGING_SUCCESSFUL:"ResourceTimingData.LoggingSuccessful",DEPENDENCIES_NOT_MET:"ResourceTimingData.DependenciesNotMet"},t.exports.CUSTOM_MESSAGE_COUNTERS={ALLOWLISTED:"custommessage:allowlisted",NOT_ALLOWLISTED:"custommessage:notallowlisted"}},{}],5:[function(e,t,n){var o=e("../messenger/msgHandler"),a={};t.exports.initCsaLatencyPlugin=function(e){window.csa&&(a.latencyPlugin=window.csa("Content",{element:e}))},t.exports.markCsaLatencyMetric=function(e,t){try{a.latencyPlugin("mark",e,t)}catch(e){o.logError("Error with initiating CSA",e)}},t.exports.initCsaEvents=function(){window.csa&&(a.events=window.csa("Events",{producerId:"adplacements"}))},t.exports.logCsaEvent=function(e,t,n){var r;r=t&&-1!==t.toLowerCase().indexOf("desktop")?"desktop":t&&-1!==t.toLowerCase().indexOf("mweb")?"mweb":"mshop";try{t&&n?a.events("log",{schemaId:e,slot:t.replace(/_/g,":"),placement:n,deviceType:r},{ent:"all"}):a.events("log",{schemaId:e},{ent:"all"})}catch(e){o.logError("Error with initiating CSA",e)}},t.exports.logCustomCsaEvent=function(e){try{a.events("log",e,{ent:"all"})}catch(e){o.logError("Error with initiating CSA",e)}},t.exports.addCsaEntity=function(e){try{a.events("setEntity",{adCreativeMetaData:e})}catch(e){o.logError("Error with initiating CSA",e)}},t.exports.csa=a},{"../messenger/msgHandler":3}],6:[function(e,t,n){var s={bb:"uet",af:"uet",cf:"uet",be:"uet",ld:"uex"};function d(e,t,n,r){var o=[e,t,n];return r&&o.push(r),o}t.exports.sendCsmLatencyMetric=function(e,t,n,r,o){if(s.hasOwnProperty(e)){var a=s[e],i=r?r+":":"";"function"==typeof window[a]&&(window[a].apply(this,d(e,"adplacements:"+i+t.replace(/_/g,":"),{wb:1},o)),n&&window[a].apply(this,d(e,"adplacements:"+i+n,{wb:1},o)))}},t.exports.sendCsmCounter=function(e,t,n,r){if(window.ue&&"function"==typeof window.ue.count){var o="adplacements:"+n;if(e&&(o+=":"+e.replace(/_/g,":")),window.ue.count(o,r),t){var a="adplacements:"+(n&&t?n+":":n)+t;window.ue.count(a,r)}}},t.exports.addCsmTag=function(e,t,n,r){if(window.ue&&window.ue.tag){if(t){var o=e+":"+t.replace(/_/g,":")+(r?":"+r:"");window.ue.tag(o)}if(n){var a=e+":"+n+(r?":"+r:"");window.ue.tag(a)}t||n||window.ue.tag(e+(r?":"+r:""))}}},{}],7:[function(e,t,n){t.exports.AD_LOAD_SCHEMAS={START:"ApeSafeframe.adload_start.1",CALLBACK:"ApeSafeframe.adload_delayloadcallback.1",IFRAME_CREATED:"ApeSafeframe.adload_iframecreated.1"},t.exports.CACHE_SCHEMAS={SF_LIBRARY:"ApeSafeframe.sflibrary_",SF_HTML:"ApeSafeframe.sfhtml_"},t.exports.FEEDBACK_SCHEMAS={REQUEST:"ApeSafeframe.adfeedback_request.1",SUCCESS:"ApeSafeframe.adfeedback_success.1",FALLBACK:"ApeSafeframe.adfeedback_fallback.1"},t.exports.ABP_STATUS_SCHEMAS={1:"ApeSafeframe.abpstatus_enabled.1",0:"ApeSafeframe.abpstatus_notenabled.1","-1":"ApeSafeframe.abpstatus_unknown.1"},t.exports.RESOURCE_TIMING_DATA_SCHEMAS={LOGGING_FAILED:"ApeSafeframe.ResourceTimingData_LoggingFailed.2",LOGGING_SUCCESSFUL:"ApeSafeframe.ResourceTimingData_LoggingSuccessful.2",DEPENDENCIES_NOT_MET:"ApeSafeframe.ResourceTimingData_DependenciesNotMet.2",DEPENDENCIES_MET:"ApeSafeframe.ResourceTimingData_DependenciesMet.2"}},{}],8:[function(m,e,t){var w,h;w=window,h=document,w.logSafeframeResourceTimingData=function(t,r){var n=m("./metrics/counters"),o=m("./metrics/schemas"),e=m("./metrics/csm"),a=m("./metrics/csa"),i=e.sendCsmCounter,s=a.logCsaEvent,d={sd:1},l=["name","entryType","startTime","duration","initiatorType","nextHopProtocol","workerStart","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","transferSize","encodedBodySize","decodedBodySize"];if(!(w.ue&&w.ue.event&&w.ue.attach))return i(null,null,n.RESOURCE_TIMING_DATA_COUNTERS.DEPENDENCIES_NOT_MET,1),void s(o.RESOURCE_TIMING_DATA_SCHEMAS.DEPENDENCIES_NOT_MET,t.slot,t.placementId);function c(e){for(var t,n={},r=0;r<l.length;r++)void 0!==e[t=l[r]]&&(n[t]=e[t]);return n}function u(){return{source:"safeframe",pageType:w.ue_pty||null,subPageType:w.ue_spty||null,pageTypeId:t.slot+"_"+t.adCreativeMetaData.adNetwork+"_"+t.adCreativeMetaData.adProgramId+"_"+t.adCreativeMetaData.adCreativeId+"_"+t.adCreativeMetaData.adId||null}}function f(){var e=u();return e.resourceData=function(){for(var e=[],t=0;t<r.resourceTimingData.length;t++){var n=r.resourceTimingData[t];0!==n.responseEnd&&e.push(c(n))}return e}(),e}function p(){var e=f();w.ue.event&&(w.ue.event(e,"adplacements","csm.ResourceTimingHit.2",d)?(i(null,null,n.RESOURCE_TIMING_DATA_COUNTERS.LOGGING_SUCCESSFUL,1),i(null,null,n.RESOURCE_TIMING_DATA_COUNTERS.LOGGING_FAILED,0),s(o.RESOURCE_TIMING_DATA_SCHEMAS.LOGGING_SUCCESSFUL,t.slot,t.placementId)):(i(null,null,n.RESOURCE_TIMING_DATA_COUNTERS.LOGGING_SUCCESSFUL,0),i(null,null,n.RESOURCE_TIMING_DATA_COUNTERS.LOGGING_FAILED,1),s(o.RESOURCE_TIMING_DATA_SCHEMAS.LOGGING_FAILED,t.slot,t.placementId)))}i(null,null,n.RESOURCE_TIMING_DATA_COUNTERS.DEPENDENCIES_NOT_MET,0),s(o.RESOURCE_TIMING_DATA_SCHEMAS.DEPENDENCIES_MET,t.slot,t.placementId),"complete"===h.readyState?p():w.ue.attach("load",p)}},{"./metrics/counters":4,"./metrics/csa":5,"./metrics/csm":6,"./metrics/schemas":7}]},{},[8]);