(function(v){var r=window.AmazonUIPageJS||window.P,fa=r._namespace||r.attributeErrors,g=fa?fa("DetailPageImageBlockAssets",""):r;g.guardFatal?g.guardFatal(v)(g,window):g.execute(function(){v(g,window)})})(function(v,r,fa){v.register("postMetric",function(){return{postCountMetric:function(g){if("undefined"!==typeof g){var a=r.ue;if(a){var b=a.count(g)||0;a.count(g,b+1)}}},postTimeMetric:function(g,a){if("undefined"!==typeof g&&"undefined"!==typeof a){var b=r.ue;b&&b.count(g,a)}},emitNexusMetric:function(g){r.ue&&
ue.event&&ue.event(g,"VSEImageBlockEvents","vse.VSEImageBlockEvents.3",{ssd:!1})},buildNexusMetric:function(g,a,b,h,m,f,n,e){return{eventSource:"IBCarousel",placementContext:e,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:g,intPayload:a,videoAsin:b,videoAsinList:"",groupType:h,pageUrl:m,pageAsin:f,weblabIds:n}}}});"use strict";v.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});v.register("postEarlyMetric",function(){return null});"use strict";
v.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(g,a,b,h){g=g.extend(!0,{},b,h);var m=new a(g);v.register("ImageBlockAPI",function(){return m.api});return m});"use strict";v.when("A","jQuery").execute(function(g,a){g.on("a:image:load:landingImage",function(){r.performance&&performance.now&&r.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});g.loadDynamicImage(a("#landingImage"))});"use strict";v.when("ImageBlockATF",
"atf").register("ImageBlockAiryLoader",function(g){function a(a){a&&(v.load.js(a),r.performance&&performance.now&&r.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",r.parseInt(performance.now())))}function b(a){a&&v.load.css(a)}var h=g.airyConfig;h===fa?v.when("ImageBlockBTF").execute(function(g){h=g.airyConfig;a(h.jsUrl);b(h.cssUrl)}):(a(h.jsUrl),b(h.cssUrl))});"use strict";v.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(g,
a,b,h,m){var f={};return function(n){var e=this;e.dispatch=function(a,b){var e=f[a];h.isDefined(e)&&g.each(e,function(a,f){f.call(r,b)})};e.register=function(a,b){h.isDefined(f[a])||(f[a]=[]);"function"===typeof b&&f[a].push(b)};e.model=new a(n,e);e.view=new b(n,e,e.model);e.api=new m(n,e,e.model);e.init=function(){e.model.init();e.view.init()};e.init()}});"use strict";v.when("A","imageBlockUtils").register("ImageBlockModel",function(g,a){function b(b,f,e,g,h,n){a.isDefined(b)&&(k.type=b);a.isDefined(f)&&
(k.index=f);a.isDefined(e)&&(k.thumbnailIndex=e);a.isDefined(g)&&(k.variant=g);a.isDefined(h)&&(k.color=h);k.shoppableScene=n||null}function h(a){b("image",0,0,"MAIN",a||e.landingAsinColor||e.defaultColor,null)}function m(a){a=a.data;L=g.copy(k);b(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function f(a){m(a);a=g.copy(a);a.data=g.copy(k);q.dispatch("updateView",a)}function n(){L=g.copy(k);h(k.color)}var e,q,k={},L={},F,w;return function(a,b){q=b;e=a;q.register("updateSelection",
f);q.register("updateModel",m);q.register("resetModel",n);this.init=function(){h()};this.getCurrentItem=function(){return g.copy(k)};this.getPreviousItem=function(){return g.copy(L)};this.setCurrentEvent=function(a){F=a};this.getCurrentEvent=function(){return F};this.setImmersiveViewModalInstance=function(a){w=a};this.getImmersiveViewModalInstance=function(){return w};this.updateTitle=function(a){e.title=a}}});"use strict";v.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(g,
a){function b(a,b,h,e,q){function k(a){"click"===a.type&&e.postCountMetric("thumbClick");"click"===a.type&&t.overrideAltImageClickAction?z.dispatch("thumbActionClick",a):z.dispatch("updateSelection",a)}function L(a){t.useClickZoom||z.dispatch("imageClick",a)}function F(a){t.useClickZoom||z.dispatch("imageHover",a)}function w(a){z.dispatch("button360Click",a)}function y(b){!h.isDefined(b)||"swatchClick"!==b.type&&"updatedData"!==b.type?(p.update(b),"swatchHover"!==b.type&&A.getPreviousItem().thumbnailIndex!==
b.data.thumbnailIndex&&e.postCountMetric(b.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",b.data)):(p.render(b.data.color,!1,b.onload),b={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof r.markFeatureRender&&r.markFeatureRender("imageblock",b))}function C(a){z.dispatch("resize",a)}function T(a){h.selectThumbnail(a,D)}function K(){"function"===typeof r.markFeatureInteractive&&r.markFeatureInteractive("imageblock",{hasComponents:!0,
components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function N(){"function"===typeof r.markFeatureInteractive&&r.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]});1===g.useIV?v.when("a-modal").execute(function(){K()}):K();t.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],k);a.declarative("thumb-action",["click"],
k);a.declarative("main-image-click",["click"],L);a.declarative("main-image-click",["mouseenter","mouseleave"],F);a.declarative("button-360-click",["click"],w);a.on("resize",C)}function P(a){var b=a.data,f;b&&"ingress"!==b.type&&"click"===a.type&&(f=a);return f}function d(a){var b=A.getCurrentItem(),f={type:"click"};f.$declarativeParent=a;f.data=b;return f}var p,t,z,A,D;return function(a,e,g){p=this;t=a;z=e;A=g;D=b("#imageBlock #altImages ul");var h=b("#imageBlock .canvas"),l=b("#main-image-container"),
c;p.subViews=[];for(e=0;e<q.length;e++)p.subViews.push(new q[e](a,g,p,z));p.render=function(a,e,g){var n=0;D.find(".item").remove();a=a||A.getCurrentItem().color;b.each(p.subViews,function(c,b){n=b.render(a,n,h,D,l,e,g)||n});var m=D.find(".a-button-selected").closest(".a-declarative");c=d(m)};p.init=function(){D=b("#imageBlock #altImages ul");var a=D.find(".a-button-selected").closest(".a-declarative"),c=a.data("action"),a=a.data(c)||{};a.color=t.landingAsinColor||t.defaultColor;z.dispatch("updateModel",
{data:a});p.render(a.color,!0);t.isDebug&&r.console&&console.log(t);z.register("updateView",y);z.register("selectThumbnail",T);N()};p.update=function(a){b.each(p.subViews,function(c,b){b.update(a)});t.usePeekHover&&("mouseleave"===a.type?z.dispatch("updateSelection",c):"click"===a.type&&(c=P(a)||c))}}}var h=["A","jQuery","imageBlockUtils","postMetric"].concat(g.views);v.when.apply(v,h).register("ImageBlockView",function(){for(var a=arguments[0],f=arguments[1],g=arguments[2],e=arguments[3],h=[],k=
4,L=arguments.length;k<L;k++)h.push(arguments[k]);return b(a,f,g,e,h)})});"use strict";v.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(g,a,b,h,m,f,n){function e(f,d,l,c){if(!b.isjQueryObjDefined(f.find(".a-button-selected"))){var e=t.getCurrentItem();if(!c||"chromeless-video"!==e.type||!p.autoplayVideo){c=0;"image"===e.type&&(c=Math.max(F(e.color,e.variant),0));var g=d+c;g>=l&&(c=0,g=d);
d=b.getImageHash(e.color,c,p);-1!==d&&(z.dispatch("updateModel",{data:{index:c,thumbnailIndex:g,variant:d.variant,type:"image",shoppableScene:d.shoppableScene}}),d=f.find(".item").get(g),b.selectGivenThumbnail(a(d),f))}}}function q(d,g,l){g=p.colorImages&&p.colorImages[g];var c=d;b.isDefined(g)&&(a.each(g,function(a,c){d<p.maxAlts&&(b.createThumbnail({type:"image",index:a,thumbnailIndex:d,variant:c.variant,shoppableScene:c.shoppableScene},c.thumb,A,"imageThumbnail"),d++)}),f.isEnabled&&n.logAltImgRequestPlacedOnThumbnails(a,
f,t),e(A,c,d,l));return d}function k(d,f){if("image"===d.type){var l=a("#image-canvas-caption #canvasCaption"),c,e=p.staticStrings,g=p.colorImages,h=d.color,n=d.index;b.isShoppableScenesEnabled()&&d.shoppableScene?c=e.clickSceneTagsToShopProducts:f&&p.useIV?c=e.clickToExpand:g[h]&&g[h][n].hiRes&&p.useHoverZoom?(c=p.useHoverZoomIpad?e.touchToZoom:p.useClickZoom?e.clickToZoom:e.rollOverToZoom,p.hoverZoomIndicator&&(c="\x3cimg src\x3d'"+p.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+c)):p.useIV&&(c=
e.clickToExpand);l.html(c)}}function L(){D.find("li").removeClass("selected");a("#image-canvas-caption #canvasCaption").empty();b.hideUnavailable()}function F(a,d){return b.getIndexForVariant(a,d,p)}function w(d,f){var l="a-dynamic-image";if(!p.acEnabled){var c;a.each(d.main,function(a,l){b.isDefined(c)||(c=parseFloat(l[1]/l[0])<=parseFloat(p.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});l+=c}var e=b.getMaxDimensionsOfMainImage(d.main,J,p),g=e[0],h=e[1],e=a("\x3cdiv\x3e\x3c/div\x3e"),
g={"max-height":g,"max-width":h};e.addClass(l).css(g).attr({"data-old-hires":d.hiRes,"data-a-manual-replacement":"true",onload:f}).data("a-dynamic-image",d.main);return e}function y(a){var b=J.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");p.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(p.imgTagWrapperClasses)}function C(a,d){if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){b.isDefined(d)&&m.postCountMetric("mainImageUpdateOnTwisterVariationClick");
var l=b.getImageHash(a.color,a.index,p);if(-1===l)return l={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},K(a)||(z.dispatch("updateModel",l),b.showUnavailable(a.color)),-1;var c=D.find(".item.itemNo"+a.thumbnailIndex);if(!b.isjQueryObjDefined(c)){var c=a.thumbnailIndex,e=w(l,d),h;if(b.isShoppableScenesEnabled()&&l.shoppableScene){h="desktop-dp-atf-ib-shoppablescenes-tags-"+c;"function"==typeof uet&&uet("bb",h,{wb:1});e.attr("data-a-image-name","shoppable-scene");var B=D.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
B.addClass("celwidget").attr("cel_widget_id",h);B.children("span").css("display","inline-block");z.dispatch("initialize-shoppable-scene",{index:c,shoppableScene:l.shoppableScene,imageSource:l.hiRes||l.large||l.lowRes,$tagPlaceholder:B.find(".mirai-scene-tag-placeholder"),$viewProductsButton:B.find(".mirai-scene-view-products-button")});"function"==typeof uet&&uet("cf",h,{wb:1});h=B}else h=D.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");h.addClass("image item itemNo"+
c+" maintain-height");h.find(".placeHolder").replaceWith(e);D.find(".list").append(h);g.loadImageManually(e);c=h}y(c);z.dispatch("loadMagnifier");k(a);p.useIV&&b.isDefined(l.hiRes)&&c.css("cursor","pointer");a.isUserGenerated&&(c=t.getPreviousItem(),e=a.variant,b.isDefined(e)&&c.thumbnailIndex!==a.thumbnailIndex&&(f.isEnabled&&n.logAltImgRequestServed(f),m.postCountMetric("ImageThumbnailSelectedVariant:"+e),0===e.indexOf("IG")&&(m.postCountMetric("IGImageSelectedVariant:"+e),m.postCountMetric("IGImageSelectedEvent:"+
a.interaction))));g.trigger("dp:image-block:update",l)}}function r(){a("#imageBlock").css("opacity","1");D.css("opacity","1");b.spinner(D,!1)}function K(a){return b.lazyLoadingRequired(a,t,p)}function N(){var d=D.find(".item .imgTagWrapper"),f=b.getContainerHeight(J,p.holderRatio,p.holderMaxHeight);0<f&&(J.height(f),d.height(f));D.find("img.a-dynamic-image").each(function(){var l=a(this);l.data("a-manual-replacement")&&g.loadDynamicImage(this);var c=l.data("a-dynamic-image"),c=b.getMaxDimensionsOfMainImage(c,
J,p);l.css({"max-height":c[0]+"px","max-width":c[1]+"px"})})}function P(a){k(t.getCurrentItem(),"mouseenter"===a.type)}var d,p,t,z,A,D,J,E;g.on("triggerImageAjax",function(a){var d=t.getCurrentItem().color;p.colorImages[d]||(p.colorImages[d]=a);a={type:"updatedData",data:t.getCurrentItem()};z.dispatch("updateView",a);(d=p.colorToAsin[d])&&d.asin&&v.register(b.rankedImagesReadyEvent(d.asin))});return function(a,f,l,c){d=this;p=a;t=f;z=c;p.colorImages[p.landingAsinColor]=p.colorImages[p.defaultColor];
d.render=function(a,c,b,d,l,f,e){D=b;A=d;J=l;E=q(c,a,f);f||(a=t.getCurrentItem(),K(a)&&z.dispatch("updateModel",{data:{type:"lazy-loaded"}}));a=t.getCurrentItem();f=!f;K(a)||(r(),L(),f&&D.find(".list .item").remove());C(t.getCurrentItem(),e);return E};d.update=function(a){var c=a.data;t.setCurrentEvent(a);"ingress"===c.type||K(a.data)||(r(),L());if("swatchHover"===a.type)if(c.color===t.getCurrentItem().color)C(t.getCurrentItem());else{if(!a.captured){var d;d=Math.max(F(c.color,t.getCurrentItem().variant),
0);d=b.getImageHash(c.color,d,p);if(-1===d)K(c)||b.showUnavailable(c.color),d=-1;else{var c=D.find(".swatchHoverExp"),l=w(d);c.find(".imgTagWrapper").html(l);g.loadImageManually(l);m.postCountMetric("mainImageUpdateOnTwisterVariationHover");y(c);g.trigger("dp:image-block:update",d);d=void 0}-1!==d&&(a.captured=!0)}}else"image"===c.type&&(c.interaction=a.type,c.isUserGenerated=!0,"mouseenter"===a.type&&m.postCountMetric("dpcc_imageThumbHovered_"+(c.thumbnailIndex+1)+"_"+E),C(c),p.usePeekHover&&"click"!==
a.type||(b.selectGivenThumbnail(a.$declarativeParent,A),"click"===a.type&&(m.postCountMetric("dpcc_imageThumbClicked_total"),m.postCountMetric("dpcc_imageThumbClicked_"+(c.thumbnailIndex+1)+"_"+E))))};p.overrideAltImageClickAction&&b.addTag("clickEnabledOnAltImages");z.register("imageHover",P);z.register("resize",N)}});"use strict";v.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(g,a,b,h,m,f){function n(a){K?
a.css("cursor","url('"+F.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function e(a){var f=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(b.isDefined(f))for(var f=f[1].split("_"),d=0;d<f.length;d++){var e=f[d].match(/^([A-Z]+)(\d+(\.\d+)?)$/);b.isDefined(e)&&(a[e[1]]=parseInt(e[2],10))}return a}function q(k,q){function d(){var a;q.useClickZoom?(a=q.offsetInClickZoom,a=[Math.min(1,Math.max(0,I[0]-(B[0]+a))/(B[2]-2*
a)),Math.min(1,Math.max(0,I[1]-(B[1]+a))/(B[3]-2*a))]):a=c&&c.updatePosition();if(a&&l&&l.detailSize){var b=[l.detailSize[0]-l.rect.width,l.detailSize[1]-l.rect.height];g.capabilities.rtl?l.detailImage.get(0).style.right=-(a[0]*b[0])+"px":l.detailImage.get(0).style.left=-(a[0]*b[0])+"px";l.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function p(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function t(c){var b=Q?c.originalEvent.touches[0]||c.originalEvent.changedTouches[0]:"";
I=Q?[b.pageX,b.pageY]:[c.pageX,c.pageY];if(g.capabilities.rtl){var d=a(r).width();I=Q?[d-b.pageX,b.pageY]:[d-c.pageX,c.pageY]}}function z(a){Q&&a.preventDefault();t(a);q.useClickZoom?a=[B[0],B[1],B[0]+B[2],B[1]+B[3]]:(a=c?c.offset:k.offsetParent().offset(),a=F.acEnabled?[a.left,a.top,L.width()+a.left,L.height()+a.top]:[G[0]+a.left,G[1]+a.top,G[0]+G[2]+a.left,G[1]+G[3]+a.top]);I[0]<a[0]||I[1]<a[1]||I[0]>=a[2]||I[1]>=a[3]||F.acEnabled&&!p(k)?(q.fadeMagnifier?X||(X=!0,ca=setTimeout(function(){A(!0)},
500)):q.useClickZoom||A(),x&&(x=!1,clearTimeout(Y))):(x||(x=!0,Y=setTimeout(function(){h.postCountMetric("dppc_hoverZoomOpened");m.isEnabled&&f.logHoverZoomRequestServed(m)},1E3)),q.fadeMagnifier&&X&&(X=!1,clearTimeout(ca)),d())}function A(b){b&&w.suppressMagnifier(!0);if(T&&(l&&l.hide(),c&&(c.destroy(),c=null),T=!1,Q?(k.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),
y(),b))k.one("click.magnifier touchstart.magnifier",function(a){C(a,!0)})}function C(b,f){f&&w.suppressMagnifier(!1);if(!T&&!V&&(0===Z&&(h.postCountMetric("dppc_hoverTime",new Date-(r.ue&&r.ue.t0||0)),Z=1),ga[W]||(h.postCountMetric("dppc_hoverMain"),ga[W]=1),G=[k.position().left,k.position().top,k.width(),k.height()],W&&(t(b),l?l.refit().show():l=new oa,q.useClickZoom||(c=c||new ha),B=l.getWindowSize(),d()),T=!0,Q?(k.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",z).bind("touchend.magnifier",
A),a(document).trigger("engaged.magnifier")):(F.acEnabled?L.unbind("mousemove.magnifier"):k.unbind("mousemove.magnifier"),a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",z)),f)){var e=a("#zoomWindow");if(0<e.length)e.one("click.magnifier touchend.magnifier",function(a){A(!0)})}}function y(){q.useHoverZoom&&(Q?k.bind("touchstart.magnifier touchmove.magnifier",C):F.acEnabled?p(k)&&L.bind("mousemove.magnifier",C):k.bind("mousemove.magnifier",C))}var w=this,L=k.offsetParent(),v={detailImageUrl:k.attr("data-old-hires"),
location:"over",locationElement:k,prelaod:"ready",zIndex:50,offsetInClickZoom:50};q=a.extend(v,q);q.adjustment=[10,0,-10,0];var l=null,c=null,I=null,G=null,B=null,H={"null":1,"":1,undefined:1},T=!1,V=!1,W=q.detailImageUrl,Q=q.useHoverZoomIpad||0,Z=0,ga={},ha=function(){function c(a){var b=Math.round(Math.min(k.width(),l.rect.width/a));a=Math.round(Math.min(k.height(),l.rect.height/a));g.css({width:b,height:a});d=[b,a]}var b=this,d=[0,0],f=(l.detailSize&&l.detailSize[0]||5E8)/G[2],e=(l.detailSize&&
l.detailSize[1]||5E8)/G[3],f=e>f?e:f;a("#magnifierLens").remove();var g=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});q.generalImageUrls.zoomLensBackground&&g.css({backgroundImage:"url("+q.generalImageUrls.zoomLensBackground+")"});F.showMagnifierOnHover?n(g):g.css("cursor","pointer");b.updatePosition=function(){var a=[G[2]-d[0],G[3]-d[1]],c=0>=a[0]?.5:Math.max(0,Math.min(1,(I[0]-d[0]/2-G[0]-b.offset.left)/a[0])),l=0>=a[1]?.5:Math.max(0,Math.min(1,(I[1]-d[1]/2-G[1]-b.offset.top)/
a[1])),f=G[0]+Math.round(c*a[0]),a=G[1]+Math.round(l*a[1]);g.get(0).style.left=f+"px";g.get(0).style.top=a+"px";return[c,l]};b.destroy=function(){g.remove()};b.offset=k.offsetParent().offset();c(f);b.updatePosition();g.appendTo(k.parent());l.detailImage[0].complete||l.detailImage.load(function(){var a=l.detailImage.width()/G[2];c(a);b.updatePosition()})};ha.preload=function(){w.preload(q.generalImageUrls.lensBackgroundUrl)};var oa=function(){function c(){var d={};if("over"===q.location){var d=q.useClickZoom,
l={},e=a("#leftCol"),h=a("#centerCol"),n=a("#rightCol"),m=a("#hover-zoom-end"),t=a("#actionPanelContainer"),I=b.isjQueryObjDefined(e)?e.outerHeight():h.outerHeight();l.top=b.isjQueryObjDefined(e)?e.offset().top:h.offset().top;l.bottom=I+l.top;l.right=b.isjQueryObjDefined(n)?n.offset().left:t.offset().left;l.left=d?0:e.offset().left+e.outerWidth();b.isjQueryObjDefined(m)&&m.offset().top>l.bottom&&(l.bottom=m.offset().top);d=l}else"right"===q.location&&(d=k.offset(),d={left:d.left+k.outerWidth(),top:d.top,
right:d.left+k.outerWidth()+400,bottom:d.top+400});q.minHeightElement&&(d.bottom=Math.max(d.bottom,d.top+a(q.minHeightElement).outerHeight()));d.bottom=Math.min(d.bottom,a(r).scrollTop()+a(r).height());d.left+=g[0];d.top+=g[1];d.right+=g[2];d.bottom+=g[3];d.width=d.right-d.left;d.height=d.bottom-d.top;q.enhancedHoverOverlay&&b.isDefined(r.pageXOffset)&&(l=a(r).width(),d.width=l-d.left+r.pageXOffset-18,d.height-=14);p.css({left:d.left,top:d.top,width:d.width,height:d.height});f.rect=d;return f}function l(a){var c=
new Image;f.detailSize=[0,0];c.onload=function(){f.detailSize=[c.width,c.height];d()};c.src=a.attr("src");if(0<c.width&&0<c.height)f.detailSize=[c.width,c.height];else if(q.detailImageSize)f.detailSize=q.detailImageSize;else{a=e(c.src);var b=G[2]/G[3];a.SS||a.AA?(a=a.SS||a.AA,f.detailSize=[a,a]):a.SX?f.detailSize=[a.SX,Math.round(a.SX/b)]:a.SY?f.detailSize=[Math.round(a.SY*b),a.SY]:a.SL&&(f.detailSize=1<=b?[a.SL,Math.round(a.SL/b)]:[Math.round(a.SL*b),a.SL])}}var f=this,g=q.adjustment;a("#zoomWindow").remove();
var h={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:q.zIndex};q.enhancedHoverOverlay&&(h.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",h.border="1px solid #949494",h.borderColor="rgb(148,148,148)");var p=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(h);q.fadeMagnifier&&p.fadeIn(200);q.useClickZoom&&(K?p.css("cursor",'url("'+q.zoomOutIcon+'"), auto'):(p.css("cursor","-webkit-zoom-out"),p.css("cursor","-moz-zoom-out"),p.css("cursor","zoom-out")));f.updateImage=function(c){c=a("\x3cimg id\x3d'detailImg' src\x3d'"+
c+"'/\x3e").css("position","absolute");f.detailImage&&f.detailImage.remove();p.append(c);a(document).trigger("updated.magnifier");f.detailImage=c;l(f.detailImage)};f.refit=function(){c();l(f.detailImage);return f};q.fadeMagnifier?(f.show=function(){p.fadeIn(200);return f},f.hide=function(){p.fadeOut(200);return f}):(f.show=function(){p.show();return f},f.hide=function(){p.hide();return f});f.destroy=function(){p.remove();return f};f.getWindowSize=function(){return[f.rect.left,f.rect.top,f.rect.width,
f.rect.height]};f.updateImage(W);c();p.appendTo(document.body)},X=!1,ca,x=!1,Y;w.preload=function(c){c=a.makeArray(c);for(var d=c.length,b=0;b<d;b++)c[b]instanceof Array?w.preload(c[b]):"string"===typeof c[b]&&c[b]&&!H[c[b]]&&(H[c[b]]=new Image,H[c[b]].src=c[b])};w.changeImage=function(c,d){T&&A();W=d;k.attr("src",c);w.preload(c);G=[k.position().left,k.position().top,k.width(),k.height()];d&&("immediately"===q.preload?w.preload(d,!0):a(r).ready(function(){w.preload(d)}),l?l.updateImage(d):k.attr("data-old-hires",
d))};w.destroy=function(){F.acEnabled?L.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):k.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");c&&c.destroy();c=null;l&&l.destroy();l=null};w.detailImage=function(){return l.detailImage};w.suppressMagnifier=function(a){V=a};w.isEngaged=function(){return T};w.engageMagnifier=C;w.disengageMagnifier=A;k[0].complete?y():k.one("load",y);w.preload(k.attr("src"));
r.performance&&performance.now&&r.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(q.preload){var la=q.detailImageUrl,v=function(){w.preload(la,!0);q.useClickZoom||ha.preload()},ba=q.preload;ba.constructor!==Array&&(ba=[ba]);for(var u=0;u<ba.length;u++)if("immediately"===ba[u])v();else if(a(r)[ba[u]])a(r)[ba[u]](v);else a(r).bind(ba[u],v)}return w}function k(){if(F.useHoverZoom){var e={adjustment:[0,0,1,1],generalImageUrls:F.staticImages,location:"over",minHeightElement:"#imageBlock",
preload:"ready",zIndex:199,useHoverZoomIpad:F.useHoverZoomIpad,useHoverZoom:F.useHoverZoom,useClickZoom:F.useClickZoom,fadeMagnifier:F.fadeMagnifier,zoomOutIcon:F.staticImages.zoomOutCur,enhancedHoverOverlay:F.enhancedHoverOverlay||F.atfEnhancedHoverOverlay};C&&(C.destroy(),C=fa);var g=v.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");b.isjQueryObjDefined(g)?F.useClickZoom?(g.one("click.loadmagnifier touchstart.loadmagnifier",function(a){C=
new q(g,e);C.engageMagnifier(a,!0)}),K?g.css("cursor",'url("'+F.staticImages.zoomInCur+'"), auto'):(g.css("cursor","-webkit-zoom-in"),g.css("cursor","-moz-zoom-in"),g.css("cursor","zoom-in"))):C=new q(g,e):m.isEnabled&&f.logHoverZoomApplicability(a,m)}}var L,F,w,y,C,v,K=navigator.userAgent.match(/msie|trident/i);return function(a,b,d,f){L=this;F=a;w=b;m.refToModel=w;y=f;L.render=function(a,d,b,f,e,g){v=b;C&&(C.destroy(),C=fa)};L.update=function(a){};y.register("loadMagnifier",k);y.register("resize",
k)}});"use strict";v.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(g,a,b,h){function m(a,f,g){a=(a=g?g:b.getColorFromState(f.getState().hovered_variations,e))&&""!==a?a:e.defaultColor;k.dispatch("updateView",{type:"swatchHover",data:{color:a}});h.postCountMetric("swatchHover")}function f(a,f,g,n){a=(a=n?n:b.getColorFromState(f.getState().selected_variations,e))&&""!==a?a:e.defaultColor;a===q.getCurrentItem().color?"function"===typeof g&&g():(k.dispatch("updateSelection",
{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof r.markFeatureRender&&r.markFeatureRender("imageblock",a);g()}}),h.postCountMetric("swatchClick"))}var n,e,q,k;return function(a,b,h,y){n=this;e=a;q=b;k=y;g.on("image-block-twister-swatch-hover",m);g.on("image-block-twister-swatch-click",f);n.render=function(a,b,f,e,g){};n.update=function(a){}}});"use strict";v.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader",
"postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(g,a,b,h,m,f,n){function e(c,b,f,l){!d.autoplayVideo||Q||d.useChromelessVideoPlayer?!h.isjQueryObjDefined(c.find(".a-button-selected"))&&(f=p.getCurrentItem(),!l||d.prioritizeVideos||"chromeless-video"===f.type&&d.autoplayVideo)&&(l=h.getVideoHash(f.color,0,d),-1!==l&&(b+=0,t.dispatch("updateModel",{data:{index:0,thumbnailIndex:b,variant:l.variant,type:d.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),b=c.find(".item").get(b),
h.selectGivenThumbnail(a(b),c))):(h.selectGivenThumbnail(c.find("img:last"),c),h.fadeToThumbnail(c.find("img").length-1,J,c))}function q(a){var c=p.getCurrentItem().color;if(d.useChildVideos&&!d.colorToVideo[c]){var b=function(){if(a){d.colorToVideo[c]=a;var b={type:"updatedData",data:p.getCurrentItem()};t.dispatch("updateView",b)}};d.lazyLoadExperienceDisabled?b():v.when(h.rankedImagesReadyEvent(d.colorToAsin[c].asin)).execute(function(){b()})}}function k(a){if(!d.useChildVideos)return h.lazyLoadingRequired(p.getCurrentItem(),
p,d)?void 0:d.videos;if(d.colorToVideo[a])return d.colorToVideo[a];var c=d.colorToAsin[a];if(c&&c.asin){var b={};b.params={asin:c.asin,productGroupID:d.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:d.useChromelessVideoPlayer,isUDP:d.isUDP};d.isDPXFeatureEnabled||(b.success=function(a){q(a)},m.load("/gp/product/features/apparel-main-image/videos.html",b));return d.colorToVideo&&d.colorToVideo[a]}}function L(){M&&(M.hide(),A.parent().css("z-index",-1),D.hide())}function F(){t.dispatch("selectThumbnail",
h.useTabbedImmersiveView(d)?1:0)}function w(c,d,l,e){return b.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:c[0],streamingUrls:d.url,swfUrl:l.swfUrl,foresterMetadataParams:l.foresterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=h.isjQueryObjDefined(c.find("video"))?"HTML5":"FLASH";f.postCountMetric("dppc_chromelessVideo:"+a)},playing:function(){c.parent().css("z-index",8)},videounsupported:function(){F();
f.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){F();f.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){M.seek(0)}},cuePoints:[{values:d.durationSeconds-1,type:"position",callback:function(b,d,f){b=f.durationSeconds-f.playheadTimeSeconds;c.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*b,.1,function(){c.parent().css({"background-color":"transparent","z-index":-1});F();a(this).show().css("opacity",1)})}}]})}function y(c){if("chromeful-video"===
c.type||"chromeless-video"===c.type){var b=h.getVideoHash(c.color,c.index,d);if(-1===b)return-1;if("chromeful-video"===c.type){c=c.thumbnailIndex+1;var f=J.width()/J.height(),e=parseInt(b.videoWidth,10),n=parseInt(b.videoHeight,10);h.updateAspectRatio(f,e,n,A);M?(M.show(),h.loadMediaIntoAiry(M,b,R,d.tabletWeb)):M=d.tabletWeb?I:h.createAiryInstanceForChromefulNotUseTabbedImmersiveView(A,b,R,null,d.autoplayVideo,J,D,z,c,d.useTabbedImmersiveView,B,G,H);b:if(h.useTabbedImmersiveView(d)){if(1<h.getVideosCount(p.getCurrentItem().color,
d)){if(h.isDefined(E)){D.show();break b}E=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(d.staticStrings.watchMoreVideos);D.find("#videoCaption").append(E);g.declarative.create(E,"videoIngressClick",l)}h.playVideoInImmersiveView(d,p.getCurrentItem().color)&&(g.declarative.create(A,"videoIngressClick",l),A.attr&&A.attr("data-ux-click",""),A.children().css("z-index","-1"),A.css("display","inline-block"))}else D.find("#videoCaption").text(d.staticStrings.playVideo),D.show();b=
M;d.autoplayVideo&&b&&!Q&&(h.toggleVideoCaption(D),b.setVolume(0),b.show(),b.play(),Q=!0)}else M?(M.show(),h.loadMediaIntoAiry(M,b,R,d.tabletWeb),M.play(),D.show()):(M=w(A,b,R))&&M.play()}}function C(c,b,p){var n=k(b);b=c;var m=h.isDefined(n)&&0<n.length&&d.alwaysIncludeVideo?1:0;h.isDefined(n)&&0<n.length&&!d.alwaysIncludeVideo&&c===d.maxAlts&&f.postCountMetric("IBVideoDrop");m&&c===d.maxAlts&&(z.find(".item:last").remove(),c--);h.isDefined(n)&&(a.each(n,function(b,e){if(c<d.maxAlts){var g=d.useChromelessVideoPlayer?
"chromeless-video":"chromeful-video",p={type:g,index:b,thumbnailIndex:c,variant:e.variant};l={type:"video-ingress",index:b,thumbnailIndex:c,variant:e.variant};h.useTabbedImmersiveView(d)&&("chromeful-video"===g&&(Z+=" videoBlockIngress  videoBlockDarkIngress",e.thumb=e.thumb.replace("_PKmb-play-button-overlay-thumb","")),d.altsOnLeft||(Z+=" a-align-top"));h.createThumbnail(p,e.thumb,z,Z);if(2===d.dp60VideoPosition){var m=z,p=d.dp60VideoPosition;if(0!==p){var k=m.children(".imageThumbnail"),m=m.children(".videoBlockIngress");
k&&m&&k[p-1]&&a(k[p-1]).before(m[0])}}h.useTabbedImmersiveView(d)&&(T(z.find(".videoBlockIngress img"),d.videoIngressATFSlateThumbURL),p=1<n.length?"multiple-videos":"one-video",(k=1<n.length?n.length+" "+d.staticStrings.multipleVideos:d.staticStrings.singleVideo)&&z.find(".videoBlockIngress").append(z.find("#videoCount_template").clone().text(k).attr("id","videoCount")).addClass(p));p=f.buildNexusMetric("ib.thumbnailImpression",c+1,e.mediaObjectId,e.groupType,B,G,H,S);f.emitNexusMetric(p);p=f.buildNexusMetric("ib.thumbnailRender",
c+1,e.mediaObjectId,e.groupType,B,G,H,S);f.emitNexusMetric(p);W||(W=!0,f.postCountMetric("chromeless-video"===g?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"));c++}if(h.useTabbedImmersiveView(d))return!1}),e(z,b,c,p),d.imageBlockRenderingStartTime&&f.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",g.now()-d.imageBlockRenderingStartTime));return c}function T(a,c){var b=a.attr("src");if(b&&c){a.attr("src",c);var d=new Image;d.onload=function(c){a.attr("src",b)};d.src=
b}}function K(a){M&&M.pause();a.data=l;a.clickTimeStamp=a.$event.timeStamp;var c="a"===a.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";t.dispatch("imageClick",a);f.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp);a=f.buildNexusMetric("ib.thumbnailClick",a.data.thumbnailIndex+1,d.videos[0].mediaObjectId,d.videos[0].groupType,B,G,H,S);f.emitNexusMetric(a);f.postCountMetric(c)}function N(a){I=a.player;I.hide=function(){I.pause();g.$("#main-video-container").find(".vse-player-container").hide()};
I.show=function(){g.$("#main-video-container").find(".vse-player-container").show();I.play()};I.getMediaSourceInfo=function(){return h.getMediaSourceInfo()}}var P,d,p,t,z,A,D,J,E,M,R,l,c,I,G,B,H,S,V,W=!1,Q=!1,Z="videoThumbnail";return function(b,e,m,k){P=this;d=b;p=e;t=k;R=d.airyConfig;H=d.contentWeblab&&d.contentWeblab+":"+d.contentWeblabTreatment;d.colorToVideo={};d.colorToVideo[d.landingAsinColor]=d.colorToVideo[d.defaultColor]=d.videos;d.tabletWeb?(V="tablet",S="applicationType.ImageBlock.vse_ib_tablet_web"):
g.capabilities.tablet?(V="tablet",g.capabilities.isAmazonApp&&(S="applicationType.ImageBlock.vse_ib_tablet_app")):(V="desktop",S="desktop_web.ImageBlock.vse_ib_iv");P.render=function(b,f,l,e,m,k){L();z=e;A=m.find("#main-video-container");D=A.parent().find("#video-canvas-caption");J=a("#main-image-container");B=r.location.href;l=p.getCurrentItem().color;!0===k?G=d.mediaAsin:(G=d.colorToAsin[l]&&d.colorToAsin[l].asin,G=h.isDefined(G)?G:d.mediaAsin);d.useChromelessVideoPlayer||A.addClass("chromeful-container");
c=C(f,b,k);y(p.getCurrentItem());h.useTabbedImmersiveView(d)&&g.declarative("videoIngressClick",["click"],K);l=p.getCurrentItem().color;b=h.getVideoHash(l,0,d);-1!==b&&d.tabletWeb&&(b=h.getNilgiriServiceAjaxRequest(d,l,b),n.get(g,"#main-video-container",b,function(){g.$("#main-video-container").find(".vse-player-container").hide()},function(){g.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));return c};P.update=function(a){var b=a.data;"ingress"===b.type||h.lazyLoadingRequired(b,
p,d)||L();if("swatchHover"===a.type)b.color===p.getCurrentItem().color?y(p.getCurrentItem()):a.captured||h.lazyLoadingRequired(b,p,d)&&!h.lazyLoadOnHoverEnabled(d)&&y(p.getCurrentItem());else if("chromeful-video"===b.type||"chromeless-video"===b.type){var e=h.getVideoHash(b.color,b.index,d);if("mouseenter"===a.type&&(f.postCountMetric("dpcc_videoThumbHovered_"+(b.thumbnailIndex+1)+"_"+c),"chromeless-video"===b.type)){var g=f.buildNexusMetric("ib.thumbnailHover",b.thumbnailIndex+1,e.mediaObjectId,
e.groupType,B,G,H,S);f.emitNexusMetric(g)}y(b);d.usePeekHover&&"click"!==a.type||(h.selectGivenThumbnail(a.$declarativeParent,z),"click"===a.type&&(e=f.buildNexusMetric("ib.thumbnailClick",b.thumbnailIndex+1,e.mediaObjectId,e.groupType,B,G,H,S),(!h.useTabbedImmersiveView(d)&&"chromeless-video"===b.type||"tablet"==V)&&f.emitNexusMetric(e),h.useTabbedImmersiveView(d)&&(f.emitNexusMetric(e),f.postCountMetric("dpcc_videoThumbClicked_"+(b.thumbnailIndex+1)+"_"+c),l.action="videoIngressClick",l.clickTimeStamp=
a.$event.timeStamp,l.$event=a.$event,l.$currentTarget=a.$currentTarget,t.dispatch("videoIngressClick",l),f.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}};if(d.isDPXFeatureEnabled)g.on("triggerVideoAjax",q);g.on("vsePlayer-imageblock_tablet",N)}});"use strict";v.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(g,a,b,h,m,f,n,e){function q(a){return a.hiRes||
a.large||a.main[a.main.length-1]}function k(){u.find("#ivTitle").click(function(){ba.hide()})}function L(){O=Pa?{type:"360-spin"}:Y.getCurrentItem()}function F(){var a=u.find("#ivStage"),c=ba.$container.find(".a-popover-wrapper"),b=c.find(".a-popover-inner"),c=c.height()-e.getDimension(b,"padding-top")-e.getDimension(b,"padding-bottom");u.css("height",c);var b=u.find("#ivTitle").outerHeight(!0),d=u.find("#ivVariationSelection").outerHeight(!0),f=u.find("#ivMediaSelection").outerHeight(!0),l=u.find("#ivThumbs"),
g=e.getDimension(l,"margin-top")+e.getDimension(l,"margin-bottom");l.css("height",c-b-d-f-g);u.find("#ivLargeImage").css("height",c);a.css("width",u.width()-e.getDimension(u,"padding-left")-e.getDimension(u,"padding-right")-u.find("#ivThumbColumn").width()-e.getDimension(a,"margin-left")-e.getDimension(a,"margin-right"))}function w(){u.find("#ivMediaSelect").change(function(){var c=a(this).val();"all"===c?(u.find("#ivVideoList").hide(),u.find("#ivThumbs").show(),u.find(".ivThumbVideo").show(),"chromeful-video"===
O.type&&u.find("#ivVideo_"+O.index).click()):"images"===c?(u.find("#ivVideoList").hide(),u.find("#ivThumbs").show(),u.find(".ivThumbVideo").hide(),"chromeful-video"===O.type&&(0===da&&0===aa?u.find("#iv360").click():0===da?u.find("#ivHeroImage_0").click():u.find("#ivImage_0").click())):"videos"===c&&(u.find("#ivVideoList").show(),u.find("#ivThumbs").hide(),"chromeful-video"!==O.type?u.find("#ivVideoList_0").click():u.find("#ivVideoList_"+O.index).click())})}function y(){var a=u.find("#ivStage").find("#ivLargeImage"),
c=a.width(),b=a.height(),d=a.find(".fullscreen");d.removeAttr("style");var f=d.width(),l=d.height();0<d.length&&(d[0].naturalWidth&&(f=d[0].naturalWidth),d[0].naturalHeight&&(l=d[0].naturalHeight));a.css("cursor","auto");var f=0===f?1:f,l=0===l?1:l,e=Math.min(c/f,b/l),g=l*e,p=f*e;1>e?(Qa?a.css("cursor","url('"+x.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),za=!0):za=!1;f=Math.min(p,f);l=Math.min(g-20,l);d.css({"margin-top":(b-
l)/2,"margin-left":(c-f)/2,height:l,width:f});a.css("visibility","visible");Aa=!1}function C(a){var c=u.find("#ivLargeImage");c.css("visibility","hidden");c.empty();e.animateStageIn(c);c.append(a);y()}function T(){ea&&ea.pause();u.find("#ivLarge360").css("display","none");u.find("#ivLargeVideo").css("display","none");u.find("#ivLargeImage").css("display","none");z()}function K(c){T();u.find("#ivLargeImage").css("display","block");var d;"hero-image"===c?b.isDefined(ja)&&(d=q(ja[O.index])):b.isDefined(ka)&&
(d=q(ka[O.index]));if(b.isDefined(d)){u.find(".fullscreen").remove();var f=a("\x3cimg\x3e").attr("src",d).addClass("fullscreen"),l=u.find("#ivLargeImage");e.animateStageOut(l,function(){f.load(function(){C(f)});if(f[0].complete)C(f);else{l.empty();var c=(l.height()-104)/2,b=(l.width()-80)/2;a("\x3cimg\x3e").attr("src",x.staticImages.spinner).css({position:"relative",top:c+"px",left:b+"px"}).appendTo(l)}})}}function N(){var a=parseInt(O.index,10)+1;a>=ia.length||u.find("#ivVideo_"+a).click()}function P(){var a;
b.isDefined(ia)&&(a=ia[O.index]);if(b.isDefined(a)){T();var c=u.find("#ivLargeVideo").css("display","block");ea?(ea.isDetached()&&ea.attach(c[0]),b.loadMediaIntoAiry(ea,a,wa,x.tabletWeb),ea.show()):(ea=b.createAiryInstanceForChromeful(c,a,wa,"ImmersiveView"),wa.enableContinuousPlay&&ea.bind("ended",N));ea.play({isAsync:!0})}}function d(){L();var a;a="hero-image"===O.type?u.find("#ivHeroImage_"+O.index):"image"===O.type?u.find("#ivImage_"+O.index):"chromeful-video"===O.type||"chromeless-video"===O.type?
u.find("#ivVideo_"+O.index):"360-spin"===O.type?u.find("#iv360"):b.isDefined(ja)?u.find("#ivHeroImage_"+O.index):u.find("#ivImage_"+O.index);b.isjQueryObjDefined(a)||(a=u.find("#ivImage_0"));p(a)}function p(a){u.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(O.type="chromeful-video",O.index=a.attr("id").split("_")[1],P()):a.hasClass("ivHeroImage")?(O.type="hero-image",O.index=a.attr("id").split("_")[1],K(O.type)):a.hasClass("iv360Image")?(O.type="360-spin",
O.index=0,t()):(O.type="image",O.index=a.attr("id").split("_")[1],K(O.type))}function t(){T();u.find("#ivLarge360").css("display","block");M();var a=u.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});e.animateStageIn(a)},200);D();m.postCountMetric("dppc_click360");ta=Date.now()}function z(){0<ta&&(A("dppc_duration360",Date.now()-ta),ta=0)}function A(a,c){r.ue&&r.ue.count(a,c)}function D(){if(0<qa){var a=u.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},
200)}}function J(c,b){if(qa<c.length){var d=a("\x3cimg /\x3e").css({display:"block",width:6*na+"px",height:sa+"px"});d.hide();b.append(d);d.get(0).onload=function(){b.closest(document.documentElement).length&&(qa++,1===qa&&(D(),0<ta&&A("dppc_loadTime360",Date.now()-ta)),0<Ga&&A("dppc_perSpriteloadTime360",Date.now()-Ga),u.find("#iv360Spinner").hide(),d.show(),xa=5*U.imageLocations[Math.floor(ya/U.imageLocations[0].length)][ya%U.imageLocations[0].length],J(c,b))};d.attr("src",c[qa].replace(/(\._SP)\d+(,)\d+/,
"$1"+ua+"$2"+va));Ga=Date.now()}}function E(a){if(b.isDefined(U.spriteWidthSizes)&&0<U.spriteWidthSizes.length){var c=U.spriteWidthSizes,d=c.length,f=c[0],l=c[d-1];if(a<=f)return f;if(a>l)return l;for(f=0;f<d;f++)if(a>c[f]&&a<=c[f+1])return c[f+1]}else return a}function M(){var c=u.find("#ivLarge360");c.children("#image-360-sprites").length||(c.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),c.css({"margin-left":0,"margin-top":0,width:c.parent().width(),height:c.parent().height(),overflow:"hidden",
position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",x.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(c),Ha=!0,R())}function R(){if(b.isDefined(U.spriteURLs)&&b.isDefined(u)&&Ha&&!Ia){var d=u.find("#ivLarge360"),f=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,
display:"block"});b.isDefined(U.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",U.staticImages.hint360).appendTo(f);a("\x3cdiv\x3e").css({"text-align":"center"}).text(x.staticStrings.dragToSpin).appendTo(f);f.appendTo(d);var f=U.imageWidth,e=U.imageHeight,g=d.parent().width(),p=d.parent().height(),h=0,n=0;f/e>g/p?(ua=E(g),va=Math.round(e/f*ua),na=Math.ceil(g),sa=Math.ceil(va/ua*g),n=(p-sa)/2):(va=E(p),ua=Math.round(f/e*va),sa=Math.ceil(p),
na=Math.ceil(ua/va*p),h=(g-na)/2);d.css({"margin-left":h,"margin-top":n,width:na+"px",height:sa+"px",overflow:"hidden",position:"relative"});d.children("#image-360-sprites").css("width",6*na+"px");J(U.spriteURLs,u.find("#image-360-sprites"),0);f=u.find("#ivLarge360");f.bind("mousedown",G);f.bind("touchstart",l);f.bind("touchmove",c);f.bind("touchend",I);a(document).bind("mousemove",B);a(document).bind("mouseup",H);b.isDefined(x.staticImages.grab)&&d.css("cursor","url('"+x.staticImages.grab+"'), auto");
Ia=!0}}function l(a){Ba=!0;Ja=a.originalEvent.targetTouches[0].clientX}function c(a){Ba&&(S(a.originalEvent.targetTouches[0].clientX-Ja),Ja=a.originalEvent.targetTouches[0].clientX)}function I(a){Ba&&(Ba=!1)}function G(a){Ca=!0;Ka=a.originalEvent.clientX;b.isDefined(x.staticImages.grabbing)&&(a=u.find("#ivLarge360"),a.css("cursor","url('"+x.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+x.staticImages.grabbing+"'), auto"));return!1}function B(a){Ca&&(S(a.originalEvent.clientX-
Ka),Ka=a.originalEvent.clientX)}function H(a){Ca&&(Ca=!1,b.isDefined(x.staticImages.grab)&&(a=u.find("#ivLarge360"),a.css("cursor","url('"+x.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function S(a){for(a=xa-=a/na*180;0>a;)a+=360;for(;360<a;)a-=360;xa=a;var c;a=360;for(var d=0;d<qa;d++)for(var f=0;f<U.imageLocations[d].length;f++){var l=Math.abs(xa-5*U.imageLocations[d][f]);l<a&&(a=l,c=d*U.imageLocations[0].length+f)}c!==ya&&(a=Math.floor(c/U.imageLocations[0].length),
a!==Math.floor(ya/U.imageLocations[0].length)&&(b.isDefined(La)||(La=document.createElement("canvas").getContext("2d")),d=u.find("#image-360-sprites").children(),La.drawImage(d[a],0,0)),a=u.find(".iv360Hint").not(".iv360HintFaded"),b.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));ya=c;a=c%U.imageLocations[0].length*-1*na;c=-1*Math.floor(c/U.imageLocations[0].length)*sa;d=u.find("#ivLarge360").children("#image-360-sprites");d.css("-webkit-transform","translate3d("+a+"px, "+
c+"px, 0)");d.css("transform","translate3d("+a+"px, "+c+"px, 0)")}function V(){u.delegate(".ivThumb","click",function(){var c=a(this);p(c)});u.delegate(".ivThumbVideoListOuter","click",function(){u.find(".ivThumbVideoListOuter").removeClass("selected");var c=a(this);c.addClass("selected");O.type="chromeful-video";O.index=c.attr("id").split("_")[1];P()})}function W(){ea&&!ea.isDetached()&&(wa.volume=ea.getVolume(),ea.detach(),!document.all||r.atob||document.addEventListener||(ea=null));u.find("#ivLargeImage").empty();
z()}function Q(a,c){return 0<c?c/2:Math.min(0,Math.max(c,a))}function Z(c){var b=ra.left-(c.pageX-Da[0])*Ea;g.capabilities.rtl&&(b=ra.left-(a(r).width()-c.pageX-Da[0])*Ea);c=ra.top-(c.pageY-Da[1])*Ea;b=Q(b,Fa.left);c=Q(c,Fa.top);u.find(".fullscreen").css({left:b,top:c})}function ga(){u.delegate("#ivLargeImage","click",function(a){if(Aa)y();else if(za){u.find(".fullscreen").removeAttr("style");if(za){var c=u.find("#ivLargeImage"),b=c.find(".fullscreen");Qa?c.css("cursor","url('"+x.staticImages.zoomOut+
"'), auto"):(c.css("cursor","-webkit-zoom-out"),c.css("cursor","-moz-zoom-out"),c.css("cursor","zoom-out"));Aa=!0;var d=u.find("#ivLargeImage");Fa.left=d.width()-b.width();Fa.top=d.height()-b.height();var d=c.height()/2,f=c.width()/2;Da=[c.offset().left+f,c.offset().top+d];ra.top=d-b.height()/2;ra.left=f-b.width()/2;b.css({position:"relative",left:ra.left,top:ra.top});Ea=Math.max(b.height()/c.height(),b.width()/c.width())}Z(a)}});u.delegate("#ivLargeImage","mousemove",function(a){Aa&&Z(a)})}function ha(c){if(b.isImmersiveViewEnabled(x,
Y.getCurrentItem().color))if(Ma){var d=c.$event.originalEvent;d.acknowledge&&d.acknowledge(c.$currentTarget[0]);Pa=b.isDefined(c)&&"button-360-click"===c.action;f.isEnabled&&n.logImmersiveViewRequestServed(f);m.postCountMetric("dppc_immersiveViewOpened");if(b.isDefined(ba))ba.show();else{c=a("#auiImmersiveViewDiv");var d=a(r).height()-150,l=a(r).width()-75;ba=Ma.create(c,{name:"immersiveView",activate:"onclick",width:l,height:d,popoverLabel:"ImmersiveView",hideHeader:!0});c.click()}if(Na){u=a("#ivMain");
c=Y.getCurrentItem().color;ka=x.colorImages[c];ja=x.heroImage[c];ia=x.useChildVideos?x.colorToVideo[c]:x.videos;Oa=X()&&x.spin360ColorEnabled[c];U=X()?x.spin360ColorData[c]:fa;L();ma=aa=pa=da=0;b.isDefined(ja)&&(aa=ja.length);b.isDefined(ka)&&(da=ka.length);b.isDefined(ia)&&(pa=ia.length);Oa&&(ma=1);e.populateTitle(u.find("#ivTitle"),45,x);e.populateVariationSelection(u.find("#ivVariationSelection"));c=u.find("#ivMediaSelect");0===da+ma||0===pa?(c.parent().hide(),u.find("#ivThumbs").addClass("noMediaSelection")):
(c.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(x.staticStrings.allMedia+" ("+(aa+da+ma+pa)+")").appendTo(c),a("\x3coption/\x3e").attr("value","images").text(x.staticStrings.images+" ("+(aa+da+ma)+")").appendTo(c),a("\x3coption/\x3e").attr("value","videos").text(x.staticStrings.videos+" ("+pa+")").appendTo(c),c.parent().show(),c.val("all"));c=u.find("#ivThumbs");c.find(".ivRow").not(".placeholder").remove();for(var d=aa+da+pa+ma,p=l=0;l<d;)for(var h=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c),
k=0;3>k&&l<d;k++,l++,p++)if(p<aa){var t=ja[l].thumb,q=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+l).appendTo(h);q.find(".ivThumbImage").css("background",'url("'+e.getResizedThumbnailURL(t)+'") center no-repeat')}else if(p>=aa&&p<da+aa)t=ka[l-aa].thumb,q=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(l-aa)).appendTo(h),q.find(".ivThumbImage").css("background",'url("'+e.getResizedThumbnailURL(t)+
'") center no-repeat');else if(p>=aa+da&&p<da+aa+ma)q=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(h),q.find(".ivThumbImage").css("background",'url("'+(b.isDefined(x.staticImages.icon360)?e.getResizedThumbnailURL(x.staticImages.icon360,!0):"")+'") center no-repeat');else if(t=ia[l-da-aa-ma],q=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(l-da-aa-ma)).appendTo(h),
q.find(".ivThumbImage").css("background",'url("'+t.thumbUrl+'") center no-repeat'),b.isDefined(t)){var I={position:"triggerTop"},z=u.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");z.find(".ivVideoPopoverTitle").text(t.title);z.find(".ivVideoPopoverDuration").text(t.durationTimestamp);I.inlineContent=z[0];g.declarative.create(q,"a-tooltip",I)}c=u.find("#ivVideoList");c.find(".ivThumbVideoListOuter").not(".placeholder").remove();d=c.find(".placeholder");
for(l=0;l<pa;l++)p=ia[l],h=d.clone().removeClass("placeholder").appendTo(c),h.attr("id","ivVideoList_"+l),h.find(".ivThumbImage").css("background",'url("'+p.thumbUrl+'") center no-repeat'),h.find(".ivThumbTitle").text(p.title),h.find(".ivThumbDuration").text(p.durationTimestamp);u.find("#ivLarge360").empty();qa=0;Ia=Ha=!1;wa=x.airyConfig;Na=!1;Ra()}}else r.performance&&performance.now&&r.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else m.postCountMetric("immersiveViewNotExistsClickCount")}
function oa(a){var c=x.colorToAsin[a],d={},f=500;if(c&&c.asin){d.params={asin:c.asin};var l="360"+c.asin,e=Date.now();d.success=function(c){A("dppc_asyncRequestTime360",Date.now()-e);c&&b.isDefined(c.spin360.spin360Model)?(b.ajaxState(l,"success"),x.spin360ColorData[a]=c.spin360.spin360Model,a===Y.getCurrentItem().color&&(U=x.spin360ColorData[a],R())):d.error()};d.error=function(){m.postCountMetric("dppc_asyncFailed360");A("dppc_asyncRequestTime360",Date.now()-e);f*=2;16E3>=f?setTimeout(function(){e=
Date.now();h.load("/gp/product/features/apparel-main-image/360.html",d)},f):b.ajaxState(l,"fail")};b.ajaxState(l)&&"fail"!==b.ajaxState(l)||(h.load("/gp/product/features/apparel-main-image/360.html",d),b.ajaxState(l,"sent"))}}function X(){return b.isDefined(x.spin360ConfigEnabled)&&x.spin360ConfigEnabled}var ca,x,Y,la,ba,u,ja,ka,ia,aa,da,pa,ma,O,ea,wa,U,Oa,na,sa,va,ua,Ka,Ja,Pa=!1,Ha=!1,Ia=!1,xa=0,ya=0,ta=0,Ga=0,Ca=!1,Ba=!1,qa=0,La,Qa=navigator.userAgent.match(/msie|trident/i),Na=!0,Aa=!1,za=!1,Fa=
{},ra={},Ea,Da,Ma;v.when("a-modal").execute(function(a){Ma=a});var Ra=g.once(function(){w();V();ga();g.on("a:popover:afterUpdatePosition:immersiveView",F);g.on("a:popover:afterShow:immersiveView",d);g.on("a:popover:afterHide:immersiveView",W);k()});return function(c,d,l,p){ca=this;x=c;Y=d;f.refToModel=Y;la=p;X()&&(x.spin360ColorData[x.landingAsinColor]=x.spin360ColorData[x.defaultColor],x.spin360ColorEnabled[x.landingAsinColor]=x.spin360ColorEnabled[x.defaultColor]);b.isDefined(x.staticImages.icon360)&&
a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",e.addStyleCodeToURL(x.staticImages.icon360,"_FMpng_RI_"));ca.render=function(a,c,d,f,l,e){Na=!0;X()&&x.spin360ColorEnabled[a]&&!b.isDefined(x.spin360ColorData[a])&&(x.spin360ColorData[a]={},oa(a));b.isImmersiveViewEnabled(x,Y.getCurrentItem().color)&&X()&&x.spin360ColorEnabled[a]&&(c===x.maxAlts&&(a=f.find(".item.imageThumbnail"),d=f.find(".item.videoThumbnail"),b.isDefined(d)&&1<d.length?d.last().remove():a.last().remove(),
c--),a=f.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),g.declarative.create(a,"button-360-click"),f.append(a),c++,m.postCountMetric("dppc_display360"));return c};ca.update=function(a){};b.isImmersiveViewEnabled(x,Y.getCurrentItem().color)||b.addTag("immersiveViewNotAvailable");la.register("imageClick",ha);la.register("button360Click",ha)}});"use strict";v.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric",
"postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(g,a,b,h,m,f,n){function e(){var b=w.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),d=b.find(".a-popover-inner"),b=b.height()-n.getDimension(d,"padding-top")-n.getDimension(d,"padding-bottom");a("#iv-tab-view-container").css("height",b);T=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<T?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),
d=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),b-=d):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",b);g.trigger("dp:image-block:immersive-view:resize")}function q(){g.trigger("dp:image-block:immersive-view:reset")}function k(d){if(b.isImmersiveViewEnabled(F,w.getCurrentItem().color))if(N){var e=d.$event.originalEvent;e.acknowledge&&e.acknowledge(d.$currentTarget[0]);m.isEnabled&&f.logImmersiveViewRequestServed(m);
h.postCountMetric("dppc_immersiveViewOpened");b.isDefined(d)&&("button-360-click"===d.action?a("#iv360TabHeading").click():"videoIngressClick"===d.action?(K=d.clickTimeStamp,a("#ivVideosTabHeading").click()):"showroomIngressClick"===d.action?(K=d.clickTimeStamp,a("#ivShowroomTabHeading").click()):a("#ivImagesTabHeading").click());e=w.getImmersiveViewModalInstance();if(b.isDefined(e))e.show();else{d=a("#auiImmersiveViewDiv");var e=Math.min(Math.max(a(r).height()-150,540),1080),n=Math.min(Math.max(a(r).width()-
75,990),1980),e=N.create(d,{name:"immersiveView",activate:"onclick",width:n,height:e,popoverLabel:"ImmersiveView",hideHeader:!0});w.setImmersiveViewModalInstance(e);d.click()}C&&(C=!1,P(),g.trigger("dp:image-block:immersive-view:init"))}else r.performance&&performance.now&&r.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else h.postCountMetric("immersiveViewNotExistsClickCount")}var L,F,w,y,C=!0,T=0,K,N;v.when("a-modal").execute(function(a){N=
a});var P=g.once(function(){g.on("a:popover:afterUpdatePosition:immersiveView",e);g.on("a:popover:afterShow:immersiveView",e);g.on("a:popover:afterHide:immersiveView",q)}),d=g.once(function(){var b=a("#iv-tab-view-container ul.iv-tab-views li");b.bind("click",function(d){var f=b.filter(".iv-active");f.attr("id")!==a(this).attr("id")&&g.trigger("dp:ivTabs:"+f.find("a").attr("data-iv-tab-view")+":deselect",d);b.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();
f=a(this).find("a").attr("data-iv-tab-view");a("#"+f).show();"ivVideosTab"===f&&(d.clickTimeStamp=K||d.timeStamp);g.trigger("dp:ivTabs:"+f+":select",d);h.postCountMetric("dppc_"+f);return!1})});return function(a,f,e,g){L=this;F=a;w=f;m.refToModel=w;y=g;L.render=function(a,b,d,f,e,l){h.postCountMetric("dpcc_altThumbs_"+b);C=!0};L.update=function(a){};L.getTitle=function(){};L.getVariationSelectionInfo=function(){};d();b.isImmersiveViewEnabled(F,w.getCurrentItem().color)||b.addTag("immersiveViewNotAvailable");
y.register("imageClick",k);y.register("button360Click",k);b.useTabbedImmersiveView(F)&&(y.register("videoIngressClick",k),y.register("showroomIngressClick",k))}});"use strict";v.when("A").register("ImageBlockLoader",function(g){return{load:function(a,b){b=b||{};b.timeout=b.timeout||4E3;g.ajax(a,b)}}});"use strict";v.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(g,
a,b,h,m,f,n,e,q){function k(a){return null!==a&&"undefined"!==typeof a}function L(b){var c=0;a.each(b,function(a,b){var d=parseInt(b[1],10);d>c&&(c=d)});return c}function F(b){var c=0;a.each(b,function(a,b){var d=parseInt(b[0],10);d>c&&(c=d)});return c}function w(a,c,b){c=c.width();if(b.naturalMainImageSize)return c;a=L(a);0<a&&(c=Math.min(c,a));return c}function y(a,c,b){c=c.height();if(b.naturalMainImageSize)return c;a=F(a);0<a&&(c=Math.min(c,a));return c}function C(b){var c;a.each(b,function(a,
b){k(c)||(c=b[1]/b[0])});return c||1}function v(d,c,f,e,g,p,n,k,m,q,t,A,z){var w=a.extend({},f.foresterMetadataParams);null!==e&&(w.method+="."+e);var C=[];c.disabledViewIds&&(C=c.disabledViewIds);return b.embed({parentElement:d[0],streamingUrls:c.url,contentId:c.mediaObjectId,contentMinAge:Number(c.minimumAge||"")||0,contentTitle:c.title,swfUrl:f.swfUrl,foresterMetadataParams:w,backgroundColor:"black",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:c.slateUrl,postMediaSlate:c.slateUrl},
videoAds:f.videoAds,bindings:{play:function(){if("ImmersiveView"===e)D||(D=!0,h.postCountMetric("dppc_chromefulVideoPlayedIV"));else if(J||(J=!0,h.postCountMetric("dppc_chromefulVideoPlayedPV")),!q){var a=h.buildNexusMetric("ib.thumbnailClick",m,c.mediaObjectId,c.groupType,t,A,z);h.emitNexusMetric(a)}}},cuePoints:[{values:c.durationSeconds-1,type:"position",callback:function(a,c,b){g&&(K(0,p,k),N(n))}}],disabledViewIds:C})}function K(a,c,b){c.fadeTo(500,0,function(){P(a,b);c.fadeTo(500,1)})}function N(a){a&&
a.toggle()}function P(b,c){var d=c.find("img");k(d[b])&&a(d[b]).click()}function d(a,c){R[a]=c?c:R[a];return R[a]}function p(b,c,d){d=d||M;d=d.colorImages;if(1>d.length||!k(d[b])||!k(c))return-1;var f=-1;a.each(d[b],function(a,b){b.variant===c&&(f=a)});return f}function t(b,c,d){d=d||M;d=d.colorImages;return!(k(d)&&k(d[b])&&k(d[b][c])&&k(d[b][c].main))||1>a.map(d[b][c].main,function(a,c){return c}).length?-1:d[b][c]}function z(a,c,b,d){d.parent().css("z-index",2);0!==b&&0!==c&&(c/=b,a>c?d.css("width",
c/a*100+"%"):d.css("height",a/c*100+"%"))}function A(b,c){var d;if(d=b.useIV)d=b.colorImages&&b.colorImages[c]&&0<b.colorImages[c].length?!0:!1;n.isEnabled&&(n.IVApplicaple=d,e.logImmersiveViewApplicability(a,n));return d}var D,J,E,M=a.extend(!0,{},m,f),R={};return{isDefined:k,isDefinedAndEmpty:function(a){return k(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return k(a)?"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return k(a)?
"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:C,getMaxHeightOfMainImage:y,getMaxWidthOfMainImage:w,getMaxDimensionsOfMainImage:function(a,c,b){if(b.acEnabled)return[c.height(),c.width()];var d=y(a,c,b);c=w(a,c,b);a=C(a);b=c/a;c=Math.min(c,d*a);d=Math.min(d,b);return[d,c]},getContainerHeight:function(a,c,b){var d=a.get(0);a=0;if(k(d)){a=d.offsetWidth/c;a=Math.min(a,b);var f;c=M.mainImageHeightPartitions;b=M.mainImageMaxSizes;if(k(b)&&
k(c)){for(var e=0,g=r.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=0;d<c.length;d++)g>c[d]&&(e=d+1);b.length>=e&&(f=b[e])}k(f)&&(a=Math.min(f[1],a))}return a},getColorFromState:function(b,c){if(b){c=c||M;var d="";a.each(c.visualDimensions,function(a,c){b[c]&&(d+=" "+b[c])});return d&&d.substring(1)}},createThumbnail:function(a,c,b,d){var f=b.find(".template").clone().removeClass("template").addClass("item"),e=document.createElement("img");e.src=c;f.find(".placeHolder").replaceWith(e);
(c=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===c&&f.addClass("heroImageThumbnail");k(d)&&f.addClass(d);g.declarative.create(f,"thumb-action",a);f.attr&&f.attr("data-ux-click","");b.append(f)},selectGivenThumbnail:function(a,c){var b=a.find(".a-button");c.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");b.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,c,b,d,f,e,g,h){v(a,c,b,d,f,e,g,h,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:v,
loadMediaIntoAiry:function(a,c,b,d){a&&a.getMediaSourceInfo()!==c.url&&(d?a.loadMedia?(E={mediaSourceInfo:[c.url],contentId:c.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(E)):a.play({videoUrl:c.url,mimeType:"video/mp4",contentId:c.mediaObjectId,refTag:"vse_ib_tablet_web"}):a.loadMedia?a.loadMedia({mediaSourceInfo:c.url,contentId:c.mediaObjectId,contentMinAge:Number(c.minimumAge||"")||0,contentTitle:c.title,slateImages:{preloadSlate:c.slateUrl,postMediaSlate:c.slateUrl}}):a.play({videoUrl:c.url,
mimeType:"video/mp4",contentId:c.mediaObjectId}))},showUnavailable:function(b){b&&(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:K,toggleVideoCaption:N,selectThumbnail:P,spinner:function(b,c){var d=a("#imageBlock .a-spinner").parent();0===d.length&&(d=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),
b.append(d),d.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));c?d.show():d.hide();return d},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:d,getIndexForVariant:p,getImageHash:t,lazyLoadingRequired:function(a,c,b){c=Math.max(p(a.color,
c.getCurrentItem().variant,b),0);c=-1!==t(a.color,c,b);a=b.colorToAsin[a.color]&&b.colorToAsin[a.color].asin;a=!a||"success"!==d(a);return!b.lazyLoadExperienceDisabled&&!c&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:z,repositionVideoBanner:function(a,c,b,d){setTimeout(function(){var b=a.width()/a.height();z(b,16,9,c)},d||0)},getVideosCount:function(a,c){return c.useChildVideos&&c.colorToVideo[a]?c.colorToVideo[a].length:c.videos?c.videos.length:
0},getVideoHash:function(a,c,b){if(b.useChildVideos){if(!k(b.colorToVideo))return-1;a=b.colorToVideo[a]}else a=b.videos;return k(a)&&k(a[c])&&k(a[c].url)?a[c]:-1},isImmersiveViewEnabled:A,playVideoInImmersiveView:function(a,c){return A(a,c)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return k(E)?E.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,c,b){return{requester:"DetailPageTablet",marketplaceID:b.marketPlaceID,
clientPrefix:"ImageBlock_tablet",locale:b.languageCode,page:"DetailPageTablet",placement:"ImageBlock",video:{videoURL:b.url,imageURL:b.slateUrl}}},addTag:function(a){r.ue&&r.ue.tag&&r.ue.tag(a)},isShoppableScenesEnabled:function(){return q.isEnabled&&0<a(".mirai-scene-image-block-template").length}}});"use strict";v.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(g,a,b,h){function m(d,f,e,g){if(!b.isjQueryObjDefined(d.find(".a-button-selected"))){var k=
C.getCurrentItem();if(!g||"chromeless-video"!==k.type||!y.autoplayVideo){g=0;if("hero-image"===k.type){g=n(k.color,k.variant);if(-1===g)return;g=-1!==g?g:0}var m=f+g;m>=e&&(g=0,m=f);f=h.getHeroImageHash(y,k.color,g);-1!==f&&(v.dispatch("updateModel",{data:{index:g,thumbnailIndex:m,variant:f.variant,type:"hero-image"}}),f=d.find(".item").get(m),b.selectGivenThumbnail(a(f),d))}}}function f(d,f,e){if("hero-video"===C.getCurrentItem().type)return d;f=y.heroImage&&y.heroImage[f];var g=d;b.isDefined(f)&&
(a.each(f,function(a,f){d<y.maxAlts&&(b.createThumbnail({type:"hero-image",index:a,thumbnailIndex:d,variant:f.variant},f.thumb,K,"imageThumbnail"),d++)}),m(K,g,d,e));return d}function n(d,f){var e=y.heroImage;if(1>e.length||!b.isDefined(e[d])||!b.isDefined(f))return-1;var g=-1;a.each(e[d],function(a,b){b.variant===f&&(g=a)});return g}function e(){if(N.length&&y.repositionHeroImage){var a=h.getHeroDimParams(y,C.getCurrentItem()),f;b.isDefined(a)&&(f=b.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+
a.yPos+"px ",N.css({"background-position":f,"background-size":a.width+"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""}))}}function q(a,f,e,g){if(N.length&&a&&f){if("function"===typeof e||g){var n=new Image;n.onload=g?function(){N.css("background-image",'url("'+a+'")')}:e;n.src=a}e=f[1];var n=f[0],k;g||N.css({"background-image":'url("'+a+'")'});y.repositionHeroImage&&(f=h.getHeroDimParams(y,C.getCurrentItem(),f),b.isDefined(f)&&(e=f.width,n=f.height,
k=b.isDefined(f.xPos)?f.xPos+"px "+f.yPos+"px ":"center "+f.yPos+"px "));N.css({"background-position":k,"background-size":e+"px "+n+"px ","max-width":e+"px ","min-height":n+"px ",filter:"","-ms-filter":""})}}function k(b,f,e,g){b=h.getHeroImageHash(y,b,f);if(-1===b)return-1;f=a.map(b.main,function(a,b){return b})[0];q(f,b.main[f],e,g)}function r(a,b,f){if("hero-image"!==a.type)return-1;var e=n(a.color,C.getCurrentItem().variant),e=-1!==e?e:0;if(-1===h.getHeroImageHash(y,a.color,e))return-1;var g=
C.getCurrentItem();a.thumbnailIndex=g.thumbnailIndex;a.type=g.type;a.variant=g.variant;a.index=e;F(a,b,f)}function F(a,b,f){var e=h.getHeroImageHash(y,a.color,a.index),n;n=a&&P&&g.equals(a,P)?!0:!1;P||(P=a);if(!n&&a||b)k(a.color,a.index,b,f),P=a;N.removeClass("hide-background");g.trigger("dp:image-block:update",e)}var w,y,C,v,K,N,P={};return function(d,g,h,n){w=this;y=d;C=g;v=n;y.heroImage[y.landingAsinColor]=y.heroImage[y.defaultColor];w.render=function(b,d,e,g,h,n,l){K=g;N=a("#heroImage");b=f(d,
b,n);r(C.getCurrentItem(),l,n);return b};w.update=function(a){var d=a.data;"ingress"!==d.type&&N.addClass("hide-background");"swatchHover"===a.type?a.captured||(d.type=C.getCurrentItem().type,-1!==r(d)&&(a.captured=!0)):"hero-image"===d.type&&(F(d),"click"!==a.type&&y.usePeekHover||b.selectGivenThumbnail(a.$declarativeParent,K))};v.register("resize",e)}});"use strict";v.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(g,a,b){var h,m,f,n;return function(a,q,k,
r){h=this;m=a;f=r;h.render=function(a,f,e,k,q,r,v){n=k;h=this;e=m.maxAlts;k=f;q=m.colorImages[a]?m.colorImages[a].length:0;q+=b.getVideosCount(a,m);a=m.heroImage[a];r=0;a&&(r=a.length);a=q+r;a>e&&(e=a-e,a=n.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),e+="+",k={type:"ingress",index:0,thumbnailIndex:f,variant:""},a.find("#altIngressText").append(e),g.declarative.create(a,"thumb-action",k),n.append(a),k=f++);return k};h.update=function(a){"ingress"===
a.data.type&&"click"===a.type&&f.dispatch("imageClick",a)}}});"use strict";v.when("imageBlockUtils").register("ImageBlockState",function(g){return function(a,b,h){this.getImageHash=function(b){var f=h.getCurrentItem();b=g.getIndexForVariant(f.color,b||"MAIN",a);return g.getImageHash(f.color,b,a)};this.onImageUpdateForTwister=function(a){b.register("updateSelection",function(b){"swatchClick"===b.type&&"function"===typeof a&&a()})}}});"use strict";v.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",
function(g,a){function b(a,b){var e;if(b.repositionHeroImage){e=a[1];var g=a[0];if(768>=(r.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))e*=.7,g*=.7;else{var h=((r.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,h=Math.max(Math.min(h,1),0);e*=.7+.3*h;g*=.7+.3*h}e=[e,g]}return e}function h(b,g,e){var h;if(e.repositionHeroImage){var k=r.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;e=e.heroFocalPoint;
if(a.isDefined(e)){h=Math.max((k-Math.min(1500,b))/2,0);var m=Math.max((k-b)/2,0);h-=m;k=Math.max(Math.min(k,1500),1024);h=h+(k-420-23)/2-b/g[1]*e}}return h}function m(b,h,e){b=b.heroImage;return!(a.isDefined(b)&&a.isDefined(b[h])&&a.isDefined(b[h][e])&&a.isDefined(b[h][e].main))||1>g.map(b[h][e].main,function(a,b){return b}).length?-1:b[h][e]}return{getHeroImageHash:m,getHeroDimParams:function(f,n,e){if(f.repositionHeroImage){if(!a.isDefined(e)){e=m(f,n.color,n.index);if(-1===e)return;n=g.map(e.main,
function(a,b){return b})[0];e=e.main[n]}n=b(e,f);f=h(n[0],e,f);return{height:n[1],width:n[0],xPos:f,yPos:75}}}}});"use strict";v.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(g){function a(){this.render=function(){};this.update=function(){}}return function(b,h,m,f){var n=!1,e=new a;v.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(a){a!==fa&&(n=!0,e=new a(b,h,m,f))});b&&!0===b.showroomEnabled&&!1===n&&g.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");
return e}});"use strict";v.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(g,a,b){function h(a,h){var e=g.copy(a);if(b.isDefined(a)&&a.length>h){try{for(var m=-1,k=0;k<a.length;k++){var r=a.charAt(k);if(" "===r||"."===r||"?"===r||";"===r||","===r||":"===r)m=k;if(k===h-4){e=a.substring(0,-1===m?k:m);break}}}catch(v){e=a.substring(0,h-3)}e+="..."}return e}function m(a,b){var e=a.lastIndexOf(".");return a="_"===a.charAt(e-1)?a.substring(0,e-1)+b+a.substring(e):a.substring(0,
e)+"."+b+a.substring(e)}return{getDimension:function(a,b){var e=parseInt(a.css(b),10);return isNaN(e)?0:e},attachTabSelectHandler:function(a,b){g.on("dp:ivTabs:"+a+":select",b)},attachTabDeselectHandler:function(a,b){g.on("dp:ivTabs:"+a+":deselect",b)},attachImmersiveViewResizeHandler:function(a){g.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){g.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){g.on("a:popover:afterHide:immersiveView",
a)},hideTabHeading:function(b){a("#"+b).hide()},unhideTabHeading:function(b){a("#"+b).show()},addStyleCodeToURL:m,getResizedThumbnailURL:function(a,b){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var e="_AA50_";b&&(e+="FMpng_RI_");return m(a,e)},populateVariationSelection:function(f){if(b.isDefined(r.DetailPage)&&b.isDefined(r.DetailPage.StateController)){f.empty();
var g=r.DetailPage.StateController.getState(),e=g.variation_label_order,h;for(h in e)if(e.hasOwnProperty(h)){var k=e[h],m=g.selected_variations[k],k=g.variation_display_labels[k];m&&a("\x3cdiv/\x3e").addClass("ivVariations").text(k+":"+m).appendTo(f)}}},populateTitle:function(a,b,e){a.html(e.title);a.attr("title",a.text());a.html(h(e.title,b))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,b){a.animate({opacity:.4},100,b)},logError:function(a,b,e,g){r.ueLogError&&
r.ueLogError(g,{logLevel:a,attribution:b,message:e})}}});"use strict";v.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(g,a,b,h,m){function f(){m.populateTitle(t.find("#ivTitle"),160,d)}function n(){var a=p.getCurrentItem().color;A=d.colorImages[a];z=d.heroImage[a];D=J=0;b.isDefined(z)&&(D=z.length);b.isDefined(A)&&(J=A.length)}function e(a){return a.hiRes||a.large||a.main[a.main.length-1]}function q(){var a=t.find("#ivStage").find("#ivLargeImage"),
b=a.width(),f=a.height(),e=a.find(".fullscreen");e.removeAttr("style");var g=e.width(),h=e.height();0<e.length&&(e[0].naturalWidth&&(g=e[0].naturalWidth),e[0].naturalHeight&&(h=e[0].naturalHeight));a.css("cursor","auto");var g=0===g?1:g,h=0===h?1:h,k=Math.min(b/g,f/h),m=h*k,n=g*k;1>k?(M?a.css("cursor","url('"+d.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),c=!0):c=!1;g=Math.min(n,g);h=Math.min(m-20,h);e.css({"margin-top":(f-
h)/2,"margin-left":(b-g)/2,height:h,width:g});a.css("visibility","visible");l=!1}function k(a){var b=t.find("#ivLargeImage");b.css("visibility","hidden");b.empty();m.animateStageIn(b);b.append(a);q()}function r(c){t.find("#ivLargeImage").css("display","none");t.find("#ivLargeImage").css("display","block");var f;"hero-image"===c?b.isDefined(z)&&(f=e(z[E.index])):b.isDefined(A)&&(f=e(A[E.index]));if(b.isDefined(f)){t.find(".fullscreen").remove();var g=a("\x3cimg\x3e").attr("src",f).addClass("fullscreen"),
h=t.find("#ivLargeImage");m.animateStageOut(h,function(){g.load(function(){k(g)});if(g[0].complete)k(g);else{h.empty();var b=(h.height()-104)/2,c=(h.width()-80)/2;a("\x3cimg\x3e").attr("src",d.staticImages.spinner).css({position:"relative",top:b+"px",left:c+"px"}).appendTo(h)}})}}function v(a){t.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?E.type="hero-image":E.type="image";E.index=a.attr("id").split("_")[1];r(E.type);h.postCountMetric("dpcc_iv_thumbCLick_"+
(parseInt(E.index,10)+1)+"_"+(D+J))}function w(){t.delegate(".ivThumb","click",function(){var b=a(this);v(b)})}function y(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function C(a){var b=G.top-(a.pageY-H[1])*B;a=y(G.left-(a.pageX-H[0])*B,I.left);b=y(b,I.top);t.find(".fullscreen").css({left:a,top:b})}function T(){t.delegate("#ivLargeImage","click",function(a){if(l)q();else if(c){t.find(".fullscreen").removeAttr("style");if(c){var b=t.find("#ivLargeImage"),f=b.find(".fullscreen");M?b.css("cursor",
"url('"+d.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));l=!0;var e=t.find("#ivLargeImage");I.left=e.width()-f.width();I.top=e.height()-f.height();var e=b.height()/2,g=b.width()/2;H=[b.offset().left+g,b.offset().top+e];G.top=e-f.height()/2;G.left=g-f.width()/2;f.css({position:"relative",left:G.left,top:G.top});B=Math.max(f.height()/b.height(),f.width()/b.width())}C(a);h.postCountMetric("dpcc_iv_largeImageCLick")}});
t.delegate("#ivLargeImage","mousemove",function(a){l&&C(a)})}function K(){t.find("#ivLargeImage").empty()}function N(c){if(R){t=a("#ivMain");n();E=p.getCurrentItem();f();m.populateVariationSelection(t.find("#ivVariationSelection"));c=t.find("#ivThumbs");c.find(".ivRow").not(".placeholder").remove();for(var d=D+J,e=0,g=0;e<d;)for(var h=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c),l=0;4>l&&e<d;l++,e++,g++)if(g<D){var k=z[e].thumb,q=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id",
"ivHeroImage_"+e).appendTo(h);q.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(k)+'") center no-repeat')}else g>=D&&g<J+D&&(k=A[e-D].thumb,q=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(e-D)).appendTo(h),q.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(k)+'") center no-repeat'));S();R=!1}else f();c=a("#ivImagesTab").height();t.css("height",c);d=t.find("#ivTitle").outerHeight(!0);e=t.find("#ivVariationSelection").outerHeight(!0);
g=t.find("#ivThumbs");h=m.getDimension(g,"margin-top")+m.getDimension(g,"margin-bottom");g.css("height",c-d-e-h);t.find("#ivLargeImage").css("height",c);c=t.find("#ivStage");d=t[0]&&t[0].getBoundingClientRect&&Math.floor(t[0].getBoundingClientRect().width)||t.width();c.css("width",d-m.getDimension(t,"padding-left")-m.getDimension(t,"padding-right")-t.find("#ivThumbColumn").width()-m.getDimension(c,"margin-left")-m.getDimension(c,"margin-right"));E=p.getCurrentItem();c="hero-image"===E.type?t.find("#ivHeroImage_"+
E.index):"image"===E.type?t.find("#ivImage_"+E.index):b.isDefined(z)?t.find("#ivHeroImage_"+E.index):t.find("#ivImage_"+E.index);b.isjQueryObjDefined(c)||(c=t.find("#ivImage_0"));v(c)}var P,d,p,t,z,A,D,J,E,M=navigator.userAgent.match(/msie|trident/i),R=!0,l=!1,c=!1,I={},G={},B,H,R=!0,S=g.once(function(){w();T();m.attachImmersiveViewResizeHandler(N);m.attachTabDeselectHandler("ivImagesTab",K)});return function(b,c,f,e){P=this;d=b;p=c;P.render=function(b,c,d,f,e,g){R=!0;n();0===D+J?m.hideTabHeading("ivImagesTabHeading"):
m.unhideTabHeading("ivImagesTabHeading");1===D+J?a("#ivThumbs").hide():a("#ivThumbs").show()};P.update=function(a){};m.attachTabSelectHandler("ivImagesTab",N)}});"use strict";v.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(g,a,b,h,m,f,n){function e(){A.delegate(".ivThumb","click",function(){var b=a(this);A.find(".ivThumb").removeClass("selected");b.addClass("selected");
b.hasClass("ivThumbVideo")&&(D.type="chromeful-video",D.index=b.attr("id").split("_")[1])})}function q(){if(ga){var b=a("#ivVideosTab").height();A.css("height",b);var c=A.find(".vse-lb-container");J=b-m.getDimension(c,"padding-top")-m.getDimension(c,"padding-bottom");c.css({"max-height":b,overflow:"hidden"});if(V){A.css({"max-width":Math.floor(1.77*J)});return}var b=A.find(".vse-player-container"),c=A.find(".vse-video-action-strip"),d=A.find(".vse-lb-video-metadata"),f=Math.floor(J-m.getDimension(d,
"height")-m.getDimension(c,"height")),e=Math.floor(1.77*f);b.css({"max-height":f,"max-width":e,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":e,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":e,marginLeft:"auto",marginRight:"auto"})}W&&(b=A.find(".vse-vertical-scroll"),c=m.getDimension(b,"margin-top")+m.getDimension(b,"margin-bottom"),b.css("max-height",J-c))}function k(){v();E&&E.pause();Q=!1;H=!0;c=null;Z=!0;ga=!1}function v(){Q=!1;E&&E.pause()}function F(d){c=d.clickTimeStamp?
d.clickTimeStamp:g.now();b.isDefined(z)&&(z.eventTimestamp=c);S&&(n.get(g,"#ivVideoBlock",t,x,Y),A=a("#ivVideoBlock"),p.getCurrentItem(),D=p.getCurrentItem(),fa());q();Q=!0;S=!1;C()}function w(b){S&&(A=a("#ivVideoBlock"),p.getCurrentItem(),D=p.getCurrentItem(),fa());Q&&C();q()}function y(a){E=a.player;h.postTimeMetric("vse_ib_desktop_player_initialisation_duration",g.now()-ha);d.imageBlockRenderingStartTime&&h.postTimeMetric("vse_ib_desktop_time_to_player_interactive",g.now()-d.imageBlockRenderingStartTime);
ga&&(N(),C())}function C(){if(E&&Q&&(A.find(".vse-lb-container").animate({opacity:1},200),E.play(z),h.postCountMetric("dpcc_vse_videoBlock_video_played"),H)){var a=r.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,h.postTimeMetric("dpcc_vse_vitff",a),H=!1)}}function T(){g.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function K(a){M=a.popover.$popover;ga=!0;N()}function N(){ga&&Z&&Q&&E&&(M.addClass(g.$(M).find(".vse-lb-container").data("cssClass")),g.trigger("vse:detailpage-imageblock:page:lightBoxOpened",
{lightBoxId:"ivVideoBlock",assetSpec:z}),q(),Z=!1)}var P,d,p,t,z,A,D,J,E,M,R,l,c,I,G,B,H=!0,S=!0,V=!1,W=!1,Q=!1,Z=!0,ga=!1,ha=0,fa=g.once(function(){e();m.attachImmersiveViewResizeHandler(w);m.attachTabDeselectHandler("ivVideosTab",v);m.attachImmersiveViewResetHandler(k)}),X=function(c,f,e){a("#ivVideoBlockSpinner").addClass("aok-hidden");h.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+f.placement);c=p.getCurrentItem().color;c=b.getVideoHash(c,0,d);E||(E=b.createAiryInstanceForChromeful(a("#ivVideoBlock"),
c,d.airyConfig,"ImmersiveView"));V=!0;a("#ivVideoBlock").css({"max-width":1.77*J,margin:"0 auto"});Q&&V&&E.play({isAsync:!0})},ca=function(b,c,d){S||n.get(b,"#ivVideoBlock",t,x,Y);a("#ivVideoBlockSpinner").addClass("aok-hidden")},x=function(a,b,c){W=!0;q()},Y=function(a,b,c){h.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+b.pageContext.placement+"_"+b.configuration.type)};return function(a,e,h,k){P=this;d=a;p=e;P.render=function(a,e,h,k,n,q){a=p.getCurrentItem().color;e=b.getVideoHash(a,
0,d);!0===q?R=d.mediaAsin:(R=d.colorToAsin[a]&&d.colorToAsin[a].asin,R=b.isDefined(R)?R:d.mediaAsin);l=null!==d.vseVideoDataSourceTreatment&&"T1"===d.vseVideoDataSourceTreatment?"ASIN":"physicalID";I=d.contentWeblab;G=d.contentWeblabTreatment;B=d.parentAsin||"";S=!0;-1===e?m.hideTabHeading("ivVideosTabHeading"):(m.unhideTabHeading("ivVideosTabHeading"),t={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:e.marketPlaceID,locale:e.languageCode,product:{contentID:R,contentIDType:"ASIN",
parentContentID:B,parentContentIDType:"ASIN"},video:{contentID:e.mediaObjectId,contentIDType:l,videoURL:e.url,imageURL:e.slateUrl},requestId:d.dpRequestId,weblabContext:[{name:I,assignment:G,ignoreForG2S2Key:!0}],metadata:{ProductTitle:d.title}},z={videoUrl:t.video.videoURL,contentId:t.video.contentID,duration:0,vendorCode:"",eventTimestamp:b.isDefined(c)?c:g.now(),imageUrl:t.video.imageURL,productAsin:t.product.contentID,index:0},b.isDefinedAndNotEmpty(E)&&(E.destroy(),E=null),ha=g.now(),f.get(g,
"#ivVideoBlock",t,ca,X))};P.update=function(a){};m.attachTabSelectHandler("ivVideosTab",F);g.on("vsePlayer-detailpage-imageblock",y);g.on("a:popover:afterShow:immersiveView",K);g.on("a:popover:beforeHide:immersiveView",T)}});"use strict";v.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(g,a,b,h,m,f,n,e,q){function k(){var b=a("#iv360Tab").height();
B.css("height",b);var c=B.find("#ivTitle360").outerHeight(!0),d=B.find("#ivVariationSelection360").outerHeight(!0),f=B.find("#ivThumbs360"),e=n.getDimension(f,"margin-top")+n.getDimension(f,"margin-bottom");f.css("height",b-c-d-e);b=B.find("#ivStage360");c=B[0]&&B[0].getBoundingClientRect&&Math.floor(B[0].getBoundingClientRect().width)||B.width();b.css("width",c-n.getDimension(B,"padding-left")-n.getDimension(B,"padding-right")-B.find("#ivThumbColumn360").width()-n.getDimension(b,"margin-left")-n.getDimension(b,
"margin-right"))}function r(){C();var a=B.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});n.animateStageIn(a)},200);v()}function v(){if(0<u){var a=B.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function w(b,d){if(u<b.length){var e=a("\x3cimg /\x3e").css({display:"block",width:6*S+"px",height:V+"px"});e.hide();d.append(e);e.get(0).onload=function(){d.closest(document.documentElement).length&&(u++,1===u&&(v(),0<x&&(m.time("dppc_loadTime360",
Date.now()-x,c.mediaAsin),f.postTimeMetric("dppc_loadTime360",Date.now()-x))),0<Y&&(m.time("dppc_perSpriteloadTime360",Date.now()-Y,c.mediaAsin),f.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-Y)),B.find("#iv360Spinner").hide(),e.show(),X=5*H.imageLocations[Math.floor(ca/H.imageLocations[0].length)][ca%H.imageLocations[0].length],w(b,d))};e.attr("src",b[u].replace(/(\._SP)\d+(,)\d+/,"$1"+Q+"$2"+W));Y=Date.now()}}function y(a){if(b.isDefined(H.spriteWidthSizes)&&0<H.spriteWidthSizes.length){var c=
H.spriteWidthSizes,d=c.length,f=c[0],e=c[d-1];if(a<=f)return f;if(a>e)return e;for(f=0;f<d;f++)if(a>c[f]&&a<=c[f+1])return c[f+1]}else return a}function C(){var b=B.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",
c.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),ha=!0,T())}function T(){if(b.isDefined(H.spriteURLs)&&b.isDefined(B)&&ha&&!oa){var f=B.find("#ivLarge360"),e=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});b.isDefined(H.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",
H.staticImages.hint360).appendTo(e);a("\x3cdiv\x3e").css({"text-align":"center"}).text(c.staticStrings.dragToSpin).appendTo(e);e.appendTo(f);var e=H.imageWidth,g=H.imageHeight,h=f.parent().width(),l=f.parent().height(),k=0,m=0;e/g>h/l?(Q=y(h),W=Math.round(g/e*Q),S=Math.ceil(h),V=Math.ceil(W/Q*h),m=(l-V)/2):(W=y(l),Q=Math.round(e/g*W),V=Math.ceil(l),S=Math.ceil(Q/W*l),k=(h-S)/2);f.css({"margin-left":k,"margin-top":m,width:S+"px",height:V+"px",overflow:"hidden",position:"relative"});f.children("#image-360-sprites").css("width",
6*S+"px");w(H.spriteURLs,B.find("#image-360-sprites"),0);e=B.find("#ivLarge360");e.bind("mousedown",d);e.bind("touchstart",K);e.bind("touchmove",N);e.bind("touchend",P);a(document).bind("mousemove",p);a(document).bind("mouseup",t);b.isDefined(c.staticImages.grab)&&f.css("cursor","url('"+c.staticImages.grab+"'), auto");oa=!0}}function K(a){ba=!0;ga=a.originalEvent.targetTouches[0].clientX}function N(a){ba&&(z(a.originalEvent.targetTouches[0].clientX-ga),ga=a.originalEvent.targetTouches[0].clientX)}
function P(a){ba&&(ba=!1)}function d(a){la=!0;Z=a.originalEvent.clientX;b.isDefined(c.staticImages.grabbing)&&(a=B.find("#ivLarge360"),a.css("cursor","url('"+c.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+c.staticImages.grabbing+"'), auto"));return!1}function p(a){la&&(z(a.originalEvent.clientX-Z),Z=a.originalEvent.clientX)}function t(a){la&&(la=!1,b.isDefined(c.staticImages.grab)&&(a=B.find("#ivLarge360"),a.css("cursor","url('"+c.staticImages.grab+"'), auto"),
a.parents(".a-declarative").last().css("cursor","auto")))}function z(a){X-=a/S*180;ka&&(m.count("dppc_360dragToSpin",c.mediaAsin),f.postCountMetric("dppc_360dragToSpin"));ka=!1;for(a=X;0>a;)a+=360;for(;360<a;)a-=360;X=a;var d;a=360;for(var e=0;e<u;e++)for(var g=0;g<H.imageLocations[e].length;g++){var h=Math.abs(X-5*H.imageLocations[e][g]);h<a&&(a=h,d=e*H.imageLocations[0].length+g)}d!==ca&&(a=Math.floor(d/H.imageLocations[0].length),a!==Math.floor(ca/H.imageLocations[0].length)&&(b.isDefined(ja)||
(ja=document.createElement("canvas").getContext("2d")),e=B.find("#image-360-sprites").children(),ja.drawImage(e[a],0,0)),a=B.find(".iv360Hint").not(".iv360HintFaded"),b.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));ca=d;a=d%H.imageLocations[0].length*-1*S;d=-1*Math.floor(d/H.imageLocations[0].length)*V;e=B.find("#ivLarge360").children("#image-360-sprites");e.css("-webkit-transform","translate3d("+a+"px, "+d+"px, 0)");e.css("transform","translate3d("+a+"px, "+d+"px, 0)")}
function A(){if(aa){B=a("#ivMain360");var b=I.getCurrentItem().color;J()&&E(b);H=J()?c.spin360ColorData[b]:fa;n.populateTitle(B.find("#ivTitle360"),160,c);n.populateVariationSelection(B.find("#ivVariationSelection360"));B.find("#ivLarge360").empty();u=0;oa=ha=!1;ca=X=0;da();aa=!1}0!==a("#iv360Tab").height()&&(n.detachImmersiveViewResizeHandler(A),k(),r(),x=Date.now(),ia=ka=!0,m.count("dppc_click360",c.mediaAsin),f.postCountMetric("dppc_click360"))}function D(a,d,g){a=c.colorToAsin[g];var l={},k=500;
if(!a||!a.asin)if(g===c.defaultColor)a={asin:c.winningAsin};else return;l.params={asin:a.asin};var n="360"+a.asin,p=Date.now();l.success=function(a){m.time("dppc_asyncRequestTime360",Date.now()-p,c.mediaAsin);f.postTimeMetric("dppc_asyncRequestTime360",Date.now()-p);a&&b.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&e.setData(a),b.ajaxState(n,"success")):l.error()};l.error=function(){m.count("dppc_asyncFailedTransient360",c.mediaAsin);f.postCountMetric("dppc_asyncFailedTransient360");m.time("dppc_asyncRequestTime360",
Date.now()-p,c.mediaAsin);f.postTimeMetric("dppc_asyncRequestTime360",Date.now()-p);k*=2;16E3>=k?setTimeout(function(){p=Date.now();h.load("/gp/product/features/apparel-main-image/360.html",l)},k):(m.count("dppc_asyncFailed360",c.mediaAsin),f.postCountMetric("dppc_asyncFailed360"),b.ajaxState(n,"fail"))};b.ajaxState(n)&&"fail"!==b.ajaxState(n)||(h.load("/gp/product/features/apparel-main-image/360.html",l),b.ajaxState(n,"sent"))}function J(){return c&&b.isDefined(c.spin360ConfigEnabled)&&c.spin360ConfigEnabled}
function E(a){return b.isDefinedAndNotEmpty(c.spin360ColorData[a])?!0:b.isDefined(c.spin360LazyLoadEnabled)&&c.spin360LazyLoadEnabled}function M(){ia&&(m.time("dppc_duration360",Date.now()-x,c.mediaAsin),f.postTimeMetric("dppc_duration360",Date.now()-x),ia=!1)}function R(a){a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a||(a=c.mediaAsin);return a}var l,c,I,G,B,H,S,V,W,Q,Z,ga,ha=!1,oa=!1,X=0,ca=0,x=0,Y=0,la=!1,ba=!1,u=0,ja,ka=!0,ia=!1,aa=!0,da=g.once(function(){n.attachImmersiveViewResizeHandler(A);
n.attachImmersiveViewResizeHandler(k);n.attachImmersiveViewResetHandler(M);n.attachTabDeselectHandler("iv360Tab",M)});return function(d,h,k,p){l=this;c=d;I=h;G=p;d=c.landingAsinColor;h=c.defaultColor;b.isDefined(c.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",n.addStyleCodeToURL(c.staticImages.icon360,"_FMpng_RI_"));J()&&(c.spin360ColorData||(c.spin360ColorData={}),d===h&&b.isDefinedAndEmpty(c.spin360ColorData[h])&&delete c.spin360ColorData[h]);
g.on(q.TWISTER_DATA_EVENT,function(a){R(I.getCurrentItem())===a&&(H=e.getData(a),T(),a={type:"updatedData",data:I.getCurrentItem()},G.dispatch("updateView",a))});l.render=function(d,h,l,k,p,q){aa=!0;!J()||b.isDefinedAndEmpty(c.spin360ColorData[d])&&!e.getData(R(I.getCurrentItem()))?n.hideTabHeading("iv360TabHeading"):(c.spin360ColorData[d]=e.getData(R(I.getCurrentItem())),b.isDefinedAndNotEmpty(c.spin360ColorData[d])?(a("#ivThumbs360").hide(),n.unhideTabHeading("iv360TabHeading"),b.isImmersiveViewEnabled(c,
I.getCurrentItem().color)&&J()&&E(d)&&(h===c.maxAlts&&(d=k.find(".item.imageThumbnail"),h=k.find(".item.videoThumbnail"),b.isDefined(h)&&1<h.length?h.last().remove():d.last().remove()),d=k.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),g.declarative.create(d,"button-360-click"),k.append(d),m.count("dppc_display360",c.mediaAsin),f.postCountMetric("dppc_display360"))):b.isDefined(c.spin360LazyLoadEnabled)&&c.spin360LazyLoadEnabled?(c.spin360ColorData[d]=
{},n.hideTabHeading("iv360TabHeading"),D(k,h,d)):n.hideTabHeading("iv360TabHeading"))};l.update=function(a){};n.attachTabSelectHandler("iv360Tab",A)}});v.register("nexusLogger360",function(){return{count:function(g,a){r.ue&&r.ue.event({asin:a,metricName:g,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(g,a,b){r.ue&&r.ue.event({asin:b,metricName:g,metricValue:a},"hit-360","hit360.clientEvent.3")}}});v.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});
v.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(g,a){var b={};return{setData:function(h){var m=h.asin;b[m]||(b[m]=h,g.trigger(a.TWISTER_DATA_EVENT,m))},getData:function(a){return b[a]}}});"use strict";v.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(g,a){v.register("vse_ns_preLoaderHook",function(){function b(h,m){try{var f=h.A,n=h.block,e=h.request,q=h.handleFailure,k=h.handleSuccess,r=f.$;m--;var v=3-m-1,w=f.now();f.ajax("/vap/ew/componentbuilder",
{params:e,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:e.timeout||5E3,withCredentials:!0,success:function(a){var b=f.now()-w;g.postTimeMetric("vse_preLoaderHook:success:",b);g.postCountMetric("vse_preLoaderHook:success:"+e.page+":"+e.placement+":"+v);r(n).html(a);k(f,e,a)},error:function(a){g.postCountMetric("vse_preLoaderHook:error:"+e.page+":"+e.placement+":"+v);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<m?b(h,m):(g.postCountMetric("vse_preLoaderHook:error:",
1),q(f,e,a))}})}catch(y){a.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",y)}}return{get:function(a,g,f,n,e){b({A:a,block:g,request:f,handleFailure:e,handleSuccess:n},3)}}});v.register("vse_ns_lazyLoaderHook",function(){function b(h,m,f){try{var n=h.A,e=h.context,q=h.handleFailure,k=h.handleSuccess;m.attr("data-configuration");var r=atob(m.attr("data-configuration")),v=JSON.parse(r),w={pageContext:e,configuration:v},y=n.now();f--;var C=3-f-1;n.ajax("/vap/ew/subcomponent/"+v.type,{params:w,
paramsFormat:"json",method:"post",contentType:"application/json",timeout:e.timeout||5E3,withCredentials:!0,success:function(a){var b=n.now()-y;g.postTimeMetric("vse_lazyLoaderHook:success:",b);g.postCountMetric("vse_lazyLoaderHook:success:"+e.page+":"+e.placement+":"+v.type+":"+C);m.html(a);k(n,w,a)},error:function(a){g.postCountMetric("vse_lazyLoaderHook:error:"+e.page+":"+e.placement+":"+v.type+":"+C);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<f?b(h,m,f):(g.postCountMetric("vse_lazyLoaderHook:error:",
1),q(n,w,a))}})}catch(T){a.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",T)}}return{get:function(a,g,f,n,e){var q=a.$;q(g+" div[data-configuration]").each(function(){b({A:a,context:f,handleFailure:e,handleSuccess:n},q(this),3)})}}});v.register("vse_ns_videoPlayer",function(){function b(h,m,f){try{var n=h.A,e=h.block,q=h.request,k=h.handleFailure,r=h.handleSuccess,v=n.$;f--;var w=3-f-1,y=n.now();n.ajax("/vap/ew/subcomponent/vseplayer",{params:q,paramsFormat:"json",crossDomain:!0,method:"post",
contentType:"application/json",timeout:q.timeout||5E3,withCredentials:!0,success:function(a){var b=n.now()-y;g.postTimeMetric("vse_lightPlayerLoaderHook:success:",b);g.postCountMetric("vse_lightPlayerLoaderHook:success:"+q.page+":"+q.placement+":"+w);v(e).html(a);r(n,q,a)},error:function(a){g.postCountMetric("vse_lightPlayerLoaderHook:error:"+q.page+":"+q.placement+":"+w);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<f?b(h,f):(g.postCountMetric("vse_lightPlayerLoaderHook:error:",
1),k(n,q,a))}})}catch(C){a.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",C)}}return{get:function(a,g,f,n,e){b({A:a,block:g,request:f,handleFailure:e,handleSuccess:n},3)}}})});"use strict";v.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(g,a,b,h,m){var f=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=b.colorImages,e=0,g;for(g in a)a[g]&&a[g].length&&(e+=a[g].length);a="image_size_bucket:gt"+f[f.length-1];for(g=1;g<f.length;g++)if(e<=
f[g]){a="image_size_bucket:"+f[g-1]+"-"+f[g];break}m.postCountMetric(a);h.addTag(a)})();(function(){var b=a.colorImages;b&&b.initial&&b.initial.length&&(b=b.initial.length,r.ue&&ue.count&&ue.count("altImageCount",b))})();(function(){var a=b.lazyLoadExperienceDisabled;h.isDefined(b.lazyLoadExperienceDisabled)&&!a&&(m.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),h.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});v.when("A","get-resource-time","postMetric","afterLoad").execute(function(g,
a,b){var h=g.state("desktop-landing-image-data");h&&(h=g.values(h),a=a.getResourceTimeByName("img",h),g.each(a,function(a){a&&(a.responseEnd!=fa&&b.postCountMetric("ibDesktopLandingImageDownloadTime",r.parseInt(a.responseEnd)),a.transferSize!=fa&&(0===a.transferSize?b.postCountMetric("ibDesktopLandingImageCached",1):(b.postCountMetric("ibDesktopLandingImageSizeInBytes",r.parseInt(a.transferSize)),b.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});v.when("A","jQuery","imageBlockUtils").register("ImageBlockShoppableSceneView",
function(g,a,b){function h(b,e){var f=a("\x3cimg src\x3d'"+(e?r.staticImages.shoppableSceneTagHighlighted:r.staticImages.shoppableSceneTag)+"' alt\x3d''\x3e");f.css({display:e?"none":"inline-block"});f.addClass("mirai-scene-tag").addClass(e?"active-tag":"inactive-tag");return f}function m(b){var e=a("\x3cspan\x3e");g.each(b.tags,function(b){var k=a("\x3cdiv\x3e").css({position:"absolute",left:100*b.left+"%",top:100*b.top+"%",height:"auto",width:"auto"});k.append(h(b,!1));k.append(h(b,!0));k.bind("mouseenter",
function(){f(a(this).find(".mirai-scene-tag.inactive-tag"))});g.declarative.create(k,"scenes-show-details",{tagId:b.link});e.append(k)});return e.children()}function f(a){a.addClass("mirai-scene-dangle-tag");a.width();g.delay(function(){a.removeClass("mirai-scene-dangle-tag")},1E3)}function n(a){v.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){g.trigger("mirai:scene-details-change",{physicalId:a})})}function e(){var b=a("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),
e=a("\x3cimg class\x3d'item-tag'\x3e").attr("src",r.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),f=a("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");f.html(r.staticStrings.shoppableSceneViewProductsButton);return b.append(e).append(f)[0].outerHTML}function q(a){if(a.shoppableScene){var b=a.$viewProductsButton.find(".a-button-text");if(0===b.children().length){b.append(e());g.declarative.create(a.$viewProductsButton,"scenes-show-details",{tagId:a.shoppableScene.tags[0].link});
var h=m(a.shoppableScene);g.on("a:image:load:shoppable-scene",function(){a.$tagPlaceholder.replaceWith(h);f(h);a.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+a.index,{wb:1})});v.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",function(){g.trigger("mirai:scene-side-sheet-init",{icons:r.staticImages,strings:r.staticStrings});g.trigger("mirai:scene-details-init",{scene:a.shoppableScene,
imageSource:a.imageSource})})}}}var k,r,F;return function(a,e,f,g){k=this;r=a;F=g;b.isShoppableScenesEnabled()?(F.register("initialize-shoppable-scene",q),k.render=function(a,b,e,d,f,g,h){},k.update=function(a){"mouseenter"===a.type&&a.data.shoppableScene&&n(a.data.shoppableScene.physicalId)}):(a=function(){},k.render=a,k.update=a)}});v.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}})});
/* ******** */
(function(k){var d=window.AmazonUIPageJS||window.P,l=d._namespace||d.attributeErrors,b=l?l("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(k)(b,window):b.execute(function(){k(b,window)})})(function(k,d,l){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,p,f,g,h,a){function e(a){a=t.colorToAsin[a.color].asin;
a||(a=t.mediaAsin);return a}var d=void 0,t=void 0,m=void 0,q=void 0,k=void 0,n=void 0,u=void 0;return function(c,r,l,w){l=new Date;d=this;t=c;m=r;q=w;b.on(h.TWISTER_DATA_EVENT,function(a){e(m.getCurrentItem())===a&&(a={type:"updatedData",data:m.getCurrentItem()},q.dispatch("updateView",a))});d.render=function(p,c,d,h,l,w){p=new Date;k=h;n=l.find("#main-showroom-container");n.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var v=e(m.getCurrentItem());if(f.isDataValidForAsin(v)){var z=
new Date,r=f.getDataForAsin(v);g.refresh(q,r.asin,r.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-z);if(!w){var x=new Date;g.updateMainImage(n,r.imageData,q);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-x)}var y=new Date;c=g.createThumbnail(t,h,c,r.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-y);var A=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");
a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-A);if(v!==u){var B=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=a.createShowroomAtfEvent(r.defaultStageId,v,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);u=v;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-B)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,
new Date-p);return c};d.update=function(c){var u=new Date;try{var b=c.data;m.setCurrentEvent(c);if(b.type===h.SHOWROOM_THUMBNAIL_TYPE){var d=new Date;b.interaction=c.type;b.isUserGenerated=!0;if(f.isDataValidForAsin(e(b))){"mouseenter"===b.interaction&&b.type===h.SHOWROOM_THUMBNAIL_TYPE&&g.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER);var r=f.getDataForAsin(e(b)).imageData;g.updateMainImage(n,r,q);g.showShowroomMainImage(n)}t.usePeekHover&&"click"!==c.type||
(p.selectGivenThumbnail(c.$declarativeParent,k),"click"===c.type&&p.useTabbedImmersiveView(t)&&g.handleShowroomThumbnailClick(c));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-d)}else b.type!==h.SHOWROOM_MAIN_IMAGE_TYPE&&("swatchHover"===c.type?b.color===m.getCurrentItem().color&&m.getCurrentItem().type===h.SHOWROOM_THUMBNAIL_TYPE?g.showShowroomMainImage(n):g.hideShowroomMainImage(n):g.hideShowroomMainImage(n))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,
new Date-u)};(c=document.getElementById("ivShowroomTabHeading"))&&c.addEventListener("click",function(c){a.addOne(a.COUNTER_NAMES.TAB_SELECT);c=f.getDataForAsin(u).defaultStageId;c=a.createShowroomAtfEvent(c,u,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-l)}});"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",
TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,p,d,g,h,a){function e(n){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);
var b=a.createShowroomAtfEvent(q,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b);f(n)}function f(a){a.action="showroomIngressClick";a.data=l;m.dispatch("showroomIngressClick",a)}var k,m,q,l;return{createThumbnail:function(a,b,c,e){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:e.variant};d.createThumbnail({type:h.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:e.variant},
e.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,d){var c=a.find("#showroom-main-image");c.length?c.attr("src",d.hiRes):(c=p("\x3cimg/\x3e").attr("src",d.hiRes).attr("id","showroom-main-image"),c.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],e),d=a.find("#showroom-main-image-overlay-container"),d.length||(d=g.getStringValue(h.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),c=g.getStringValue(h.STRING_IDS.MAIN_IMAGE_OVERLAY_ICON_URL),
d=p('                \x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"'+(c?c:"")+'"/\x3e                    \x3cdiv\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-text"\x3e'+d+"\x3c/span\x3e                    \x3c/div\x3e                \x3c/div\x3e                "),d.appendTo(a)))},hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",
2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return p("#showroom-outer-container").hasClass("aok-hidden")},handleShowroomIngressClick:f,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);var d=a.createShowroomAtfEvent(q,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(d);f(b)},handleShowroomMainImageClick:e,refresh:function(a,b,c){m=a;k=b;q=c}}});"use strict";k.when("A").register("showroom-image-block-metrics",
function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",
SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",
SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var f=(d.ue.count(b)||0)+1;d.ue.count(b,f)}}catch(g){}},logValue:function(b,f){try{d.ue&&b&&"number"===typeof f&&d.ue.count(b,f)}catch(g){}},createShowroomAtfEvent:function(d,f,g,h){var a={};a.showroomId=d;a.asin=f;a.eventType=g;a.status=h;a.device=b.capabilities?b.capabilities.isAmazonApp?
"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(f){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function f(){return h[a]}
function g(a){return a in h}var h={},a;return{setData:function(e){e&&e.asin&&e.imageDomain&&e.defaultCollageUrl&&e.defaultStageId&&Array.isArray(e.itemMainImagePhysicalIds)&&(a=e.asin,g(e.asin)||(h[e.asin]=e,b.trigger(d.TWISTER_DATA_EVENT,e.asin)))},getDataForCurrentAsin:f,getDataForAsin:function(a){return h[a]},getStringValue:function(a){return f().displayStrings?f().displayStrings[a]:""},isDataValidForAsin:g}})});
/* ******** */
