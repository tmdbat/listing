(function(g){var e=window.AmazonUIPageJS||window.P,k=e._namespace||e.attributeErrors,c=k?k("AmazonRushRouter",""):e;c.guardFatal?c.guardFatal(g)(c,window):c.execute(function(){g(c,window)})})(function(g,e,k){g.when("A").register("rush-routable-application-base",function(c){return c.createClass({init:function(b){this.applicationName=b},name:function(){return this.applicationName},unload:function(b){return{}},load:function(b,c){return!0}})});"use strict";g.when("A").register("rush-router-html5-history-support",
function(c){var b=c.$.extend;return function(c){function l(a,d,h){d=h.match(d);return{major:a&&d&&d[1]?parseInt(d[1],10):-1,minor:a&&d&&d[2]?parseInt(d[2],10):-1}}function g(a){if(!a||!a.url&&!a.state)return!1;f.replaceState(b({},f.state(),a.state),f.title(),a.url);return!0}var f=c||{userAgent:e.navigator.userAgent,pushState:function(a,d,h){e.history.pushState(a,d,h)},replaceState:function(a,d,h){e.history.replaceState(a,d,h)},title:function(){return document.title},state:function(){return e.history.state},
addStateChangeHandler:function(a){e.addEventListener("popstate",a,!1)},removeStateChangeHandler:function(a){e.removeEventListener("popstate",a)},hasNativeHistorySupport:function(){return e.history&&e.history.replaceState}};return{isSupportedBrowser:function(){var a=f.userAgent,d=/iPhone|iPad|iPod/.test(a),h=-1!==a.indexOf("Android"),b=l(d,/OS ([0-9]+)(?:_([0-9]+))?/,a),a=l(h,/Android ([0-9]+)(?:\.([0-9]+))?/,a);return f.hasNativeHistorySupport()&&!(d&&5>b.major)&&!(h&&4>a.major)&&!(h&&4===a.major&&
2>a.minor)},to:function(a){if(!a||!a.url&&!a.state)return!1;f.pushState(b({},a.state||{}),f.title(),a.url);return!0},replace:g,back:function(){f.history.back()},state:function(a){a&&g({state:a});return f.state()||{}},addStateChangeHandler:f.addStateChangeHandler,removeStateChangeHandler:f.removeStateChangeHandler}}});"use strict";g.when("A").register("rush-router-pattern-parser",function(c){function b(a,d){return d?(c.isArray(d)||(d=[d]),d.concat(c.isArray(a)?a:[a])):a}function g(a){return decodeURIComponent((a||
"").replace(/\+/g," "))}function e(a,d){var h={},c=!1,g=d.match(a),q=null,p,l=(a.toString().match(f)||[]).length;if(g){c=!0;p=g[0];(q=d.substr(p.length))&&"/"===p.charAt(p.length-1)&&(q="/"+q);p=1;for(var k=0;k<l;k++)h.wildcard=b(g[p],h.wildcard),p++}return{isMatch:c,remainingPathname:q,params:h}}function k(a){var d={},c,f,e;if(!a)return d;"?"===a[0]&&(a=a.slice(1));a=a.split("\x26");for(e=0;e<a.length;e++)c=a[e].split("\x3d"),f=g(c.shift()),c=c.length?g(c.join("\x3d")):null,f&&(d[f]=b(c,d[f]));return d}
var f=/\(\.\*\)/g;return{matchPathname:e,parseQueryString:k,matchLocation:function(a,d){var h=e(a,d.pathname),f;if(!1===h.isMatch||h.remainingPathname)return h.isMatch=!1,h;f=k(d.search);c.each(f,function(a,c){h.params[c]=b(a,h.params[c])});return h}}});"use strict";g.register("rush-route",function(){return{create:function(c,b){return{pattern:function(){return c},handler:function(){return b}}}}});"use strict";g.when("a-util","rush-router-pattern-parser","rush-route","rush-router-html5-history-support",
"rush-routable-application-base","rush-router-url-parser").register("R",function(c,b,w,l,r,f){function a(a){a=f.parse(a.href);return a.protocol+"//"+a.host}function d(){return document.location}function h(c,h){function l(a,c,d,h,f){if(!a)return!1;var e;a:{var g,k;for(k=0;k<t.length;k++)if(e=t[k],g=b.matchLocation(e.pattern(),a),g.isMatch){e={route:e,params:g.params};break a}e=void 0}if(e)return!!r(e.route,e.params,a,d,c,h,f);!1!==c&&v(a.href);f&&f(!1);return!1}function n(a){l(m(),k,a)}function r(a,
c,d,b,e,f,h){var g=function(a){return!1===a?(!1!==e&&v(d.href),!1):!0};if(h)b=function(a){h(g(a))},a.handler().call(d,c,d,f,b);else return a=a.handler().call(d,c,d,f),g(a)}function v(a){m().href===a?m().reload(!0):m().href=a}function y(d){if(!(1!==d.which||d.metaKey||d.ctrlKey||d.shiftKey||d.defaultPrevented)){for(var b=d.target,e=m().href;b&&"A"!==b.nodeName;)b=b.parentNode;!b||"A"!==b.nodeName||!b.hasAttribute("href")||b.hasAttribute("download")||"off"===b.getAttribute("data-routing")||b.target&&
"_self"!==b.target||!(e=z===a(b)&&b.href!==e&&b.href.split("#")[0]!==e.split("#")[0])||(e=l(b,!1),!0===e&&(c.to({url:b.href,state:null}),d.preventDefault()))}}var m=h||d,t=[],z=a(m()),u=!1;return{addRoute:function(a,c){var b=w.create(a,c);t.push(b)},removeRoute:function(){throw Error('the "rush-router R:removeRoute" method has been deprecated');},route:n,to:function(a,b){var d;a=x({url:m().href,state:{},history:!0},a);d=f.parse(a.url);l(d,!0,!1,b,function(b){!0===b&&!1!==a.history&&c.to({url:a.url,
state:a.state})})},replace:function(){throw Error('the "rush-router R:replace" method has been deprecated');},back:c.back,state:c.state,switchApp:function(){throw Error('the "rush-router R:switchApp" method has been deprecated');},start:function(a){u||(u=!0,g.when("load").execute("routerBindStateChangeHandler",function(){u&&c.addStateChangeHandler(n)}),e.addEventListener("click",y,!1),a=a?f.parse(a):m(),l(a,!1))},stop:function(){throw Error('the "rush-router R:stop" method has been deprecated');},
pause:function(){throw Error('the "rush-router R:pause" method has been deprecated');},unpause:function(){throw Error('the "rush-router R:unpause" method has been deprecated');}}}var x=c.extend;c=c.mixin;var n={};c(n,h(new l));n.createRouter=h;n.ApplicationBase=r;return n});"use strict";g.register("rush-router-url-parser",function(){var c="protocol hostname host pathname port search hash href".split(" ");return{parse:function(b){var e=document.createElement("a"),g={};e.href=b;e.href=e.href;for(b=
0;b<c.length;b++)"pathname"===c[b]?g.pathname=e.pathname.replace(/(^\/?)/,"/"):g[c[b]]=e[c[b]];return g},toUrl:function(b){if(b)return b.protocol+"//"+b.host+b.pathname+b.search+b.hash}}})});